<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <title>Sumru ‚ù§Ô∏è</title>
    
    <style>
        /* --- GENEL AYARLAR --- */
        :root { --ios-blur: blur(25px); --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; --ios-blue: #007AFF; }
        body { margin: 0; padding: 0; background-color: #111; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: var(--font-stack); overflow: hidden; user-select: none; -webkit-tap-highlight-color: transparent; }
        .iphone-frame { width: 375px; height: 812px; background: #000; border-radius: 50px; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 12px solid #222; overflow: hidden; }
        @media (max-width: 500px) { .iphone-frame { width: 100%; height: 100%; border: none; border-radius: 0; } }
        .wallpaper { width: 100%; height: 100%; background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); position: absolute; top: 0; left: 0; z-index: 0; }
        .screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1); display: flex; flex-direction: column; align-items: center; color: white; z-index: 10; padding-top: 50px; padding-bottom: 30px; box-sizing: border-box; }

        /* Kƒ∞Lƒ∞T EKRANI */
        #lock-screen { justify-content: flex-start; background: rgba(0,0,0,0.2); }
        .time { font-size: 85px; font-weight: 200; line-height: 1; text-shadow: 0 2px 10px rgba(0,0,0,0.2); margin: 0; }
        .date { font-size: 22px; font-weight: 500; margin-top: 5px; text-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .notification-container { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-top: 30px; align-items: center; }
        .notification { background: rgba(255, 255, 255, 0.75); backdrop-filter: var(--ios-blur); width: 88%; border-radius: 18px; padding: 12px 15px; color: black; box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer; text-align: left; display: flex; gap: 12px; align-items: center; }
        .notif-icon-area { width: 38px; height: 38px; border-radius: 8px; overflow: hidden; flex-shrink: 0; display: flex; justify-content: center; align-items: center; }
        .notif-icon-area img { width: 100%; height: 100%; object-fit: cover; }
        .notif-text-area { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .notif-header { display: flex; justify-content: space-between; font-size: 11px; text-transform: uppercase; color: #444; margin-bottom: 3px; font-weight: 600; width: 100%; }
        .notif-content h4 { margin: 0; font-size: 15px; font-weight: 700; line-height: 1.2; }
        .notif-content p { margin: 2px 0 0; font-size: 14px; color: #111; line-height: 1.2;}
        .swipe-hint { position: absolute; bottom: 40px; font-size: 15px; opacity: 0.8; animation: bounce 2s infinite; }
        .home-bar { position: absolute; bottom: 8px; width: 140px; height: 5px; background: white; border-radius: 10px; z-index: 100; }

        /* ANA EKRAN */
        #home-screen { transform: translateY(100%); justify-content: flex-start; }
        .app-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px 15px; width: 90%; margin-top: 30px; }
        .app-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; transition: transform 0.1s; }
        .app-icon:active { transform: scale(0.9); }
        .icon-box { width: 62px; height: 62px; border-radius: 16px; display: flex; justify-content: center; align-items: center; font-size: 30px; color: white; margin-bottom: 6px; box-shadow: 0 5px 10px rgba(0,0,0,0.2); }
        .icon-label { font-size: 12px; font-weight: 500; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        .dock { position: absolute; bottom: 30px; width: 90%; height: 95px; background: rgba(255,255,255,0.25); backdrop-filter: blur(40px); border-radius: 35px; display: flex; justify-content: space-around; align-items: center; }
        
        .photos { background: linear-gradient(180deg, #ff9a9e 0%, #fecfef 100%); }
        .notes { background: linear-gradient(180deg, #fccb90 0%, #d57eeb 100%); }
        .music { background: linear-gradient(180deg, #fa709a 0%, #fee140 100%); }
        .maps { background: linear-gradient(180deg, #8fd3f4 0%, #84fab0 100%); }

        /* MODAL */
        .app-modal { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #f2f2f7; color: #000; z-index: 20; transform: scale(0.95) translateY(20px); opacity: 0; pointer-events: none; transition: all 0.4s cubic-bezier(0.32, 0.72, 0, 1); display: flex; flex-direction: column; border-radius: 40px; overflow: hidden; }
        .app-modal.active { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; border-radius: 0; }
        .modal-header { padding: 50px 20px 15px; background: rgba(249,249,249,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; font-weight: 600; font-size: 17px; position: sticky; top: 0; z-index: 5; }
        .close-btn { color: var(--ios-blue); border: none; background: none; font-size: 17px; cursor: pointer; }
        .modal-content { flex: 1; overflow-y: auto; padding-bottom: 50px; -webkit-overflow-scrolling: touch; }

        /* UYGULAMA ƒ∞√áERƒ∞KLERƒ∞ */
        .email-list, .call-list { background: white; margin-top: 0; }
        .email-item, .call-item { padding: 15px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: background 0.2s; }
        .email-item:active, .call-item:active { background: #f0f0f0; }
        .chat-container { padding: 20px; display: flex; flex-direction: column; gap: 15px; padding-bottom: 80px; }
        .msg-bubble { max-width: 75%; padding: 10px 15px; border-radius: 20px; font-size: 16px; line-height: 1.4; position: relative;}
        .msg-received { background: #e5e5ea; align-self: flex-start; border-bottom-left-radius: 5px; }
        .msg-sent { background: var(--ios-blue); color: white; align-self: flex-end; border-bottom-right-radius: 5px; }
        .note-paper { font-family: 'Marker Felt', 'Comic Sans MS', sans-serif; line-height: 1.6; color: #333; }
        .note-textarea { width: 100%; height: 300px; background: transparent; border: none; outline: none; font-size: 18px; font-family: inherit; resize: none; background-image: linear-gradient(transparent 95%, #e1e1e1 95%); background-size: 100% 30px; margin-top: 10px; }
        .whatsapp-btn { width: 100%; padding: 15px; background: #25D366; color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; margin-top: 20px; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px; }
        .map-container-fixed { width: 100%; height: 350px; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); position: relative; flex-shrink: 0; }
        .map-frame { width: 100%; height: 100%; border: 0; display: block; }

        /* M√úZƒ∞K */
        #app-music { background: #1c1c1e; color: white; }
        #app-music .modal-header { background: rgba(30,30,30,0.8); color: white; border-bottom: none; }
        .music-bg { position: absolute; top:0; left:0; width:100%; height:100%; background: url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=500') no-repeat center center/cover; opacity: 0.3; filter: blur(40px); z-index: 0; }
        .music-ui { position: relative; z-index: 2; display: flex; flex-direction: column; height: 90%; padding: 20px; justify-content: space-evenly; }
        .album-art { width: 280px; height: 280px; border-radius: 15px; background: url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=500') center/cover; margin: 0 auto; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
        .song-info { margin-top: 20px; text-align: left; width: 100%; }
        .song-title { font-size: 24px; font-weight: 700; margin-bottom: 5px; }
        .song-artist { font-size: 18px; color: #ccc; }
        .progress-bar-container { width: 100%; margin-top: 20px; }
        .progress-line { width: 100%; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px; }
        .progress-fill { width: 30%; height: 100%; background: #fff; border-radius: 2px; }
        .time-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-top: 8px; }
        .controls { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; width: 100%; padding: 0 10px; box-sizing: border-box; }
        .ctrl-btn { font-size: 35px; cursor: pointer; color: white; opacity: 0.9; }
        .play-pause-btn { font-size: 55px; }

        /* KALP STƒ∞LLERƒ∞ */
        #app-heart { background: radial-gradient(circle at center, #3a000a 0%, #000000 100%); color: white; overflow: hidden; }
        .click-counter {
            position: absolute; top: 60px; left: 20px; font-size: 20px; font-weight: 600; opacity: 0.8;
            color: white; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
            padding: 8px 15px; border-radius: 20px; z-index: 30; pointer-events: none;
        }
        .heart-wrapper { position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; z-index: 5; }
        .main-heart {
            font-size: 140px; cursor: pointer; user-select: none;
            -webkit-tap-highlight-color: transparent; z-index: 10;
            padding: 100px; margin: -100px;
            filter: drop-shadow(0 0 20px rgba(255, 0, 50, 0.4));
            transition: transform 0.2s cubic-bezier(0.1, 0.7, 1.0, 0.1), filter 0.2s ease;
        }
        .main-heart.idle { animation: idleBeat 2.5s infinite ease-in-out; }
        .main-heart.tap { transform: scale(0.9); filter: drop-shadow(0 0 50px rgba(255, 0, 50, 0.9)); }
        .main-heart.growing { transition: transform 3s linear; transform: scale(4); filter: drop-shadow(0 0 100px rgba(255, 0, 50, 1)); }
        #secret-layer, #counter-layer {
            position: absolute; top:0; left:0; width:100%; height:100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 20; opacity: 0; pointer-events: none; transition: opacity 0.8s ease; text-align: center;
        }
        #secret-layer { background: rgba(200, 10, 50, 0.95); } 
        #counter-layer { background: rgba(0, 0, 0, 0.95); }
        #secret-layer.visible, #counter-layer.visible { opacity: 1; pointer-events: auto; }
        .falling-heart { position: absolute; top: -50px; font-size: 20px; opacity: 0.8; pointer-events: none; z-index: 1; animation: fallDown linear forwards; }
        @keyframes idleBeat { 0%, 100% {transform: scale(1);} 50% {transform: scale(1.08);} }
        @keyframes fallDown { to { transform: translateY(900px) rotate(360deg); opacity: 0; } }

        /* --- YENƒ∞ ≈ûIK ALB√úM STƒ∞LLERƒ∞ --- */
        .photo-gallery {
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr; /* ƒ∞ki s√ºtun */
            gap: 15px; /* Aralarƒ±ndaki bo≈üluk */
        }
        .vertical-photo {
            width: 100%;
            height: 260px; /* Dikey fotoƒüraflar i√ßin uzunluk */
            object-fit: cover; /* Fotoƒürafƒ± bozmadan doldur */
            border-radius: 15px; /* Oval k√∂≈üeler */
            box-shadow: 0 8px 20px rgba(0,0,0,0.15); /* ≈ûƒ±k g√∂lge */
            transition: transform 0.2s ease;
        }
        .vertical-photo:active {
            transform: scale(0.97); /* Tƒ±klayƒ±nca hafif k√º√ß√ºlme efekti */
        }

    </style>
</head>
<body>

    <audio id="bg-music" loop><source src="cakal.mp3" type="audio/mpeg"></audio>

    <div class="iphone-frame">
        <div class="wallpaper"></div>

        <div id="lock-screen" class="screen">
            <div style="font-size:20px;">üîí</div>
            <div class="time" id="clock">--:--</div>
            <div class="date" id="date">...</div>
            <div class="notification-container">
                <div class="notification" onclick="unlockPhone()">
                    <div class="notif-icon-area" style="background:#4CD964;"><span style="font-size:20px; color:white;">üí¨</span></div>
                    <div class="notif-text-area"><div class="notif-header"><span>MESAJLAR</span><span>≈ûƒ∞MDƒ∞</span></div><div class="notif-content"><h4>Sumru ‚ù§Ô∏è</h4><p>Sana √∂zel bir s√ºrprizim var!...</p></div></div>
                </div>
                <div class="notification" onclick="unlockPhone()">
                    <div class="notif-icon-area"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/600px-Instagram_icon.png" alt="IG"></div>
                    <div class="notif-text-area"><div class="notif-header"><span>INSTAGRAM</span><span>2dk √∂nce</span></div><div class="notif-content"><h4>Kocan ‚ù§Ô∏è</h4><p>kocan reels g√∂nderdi ‚ñ∂Ô∏è</p></div></div>
                </div>
            </div>
            <div class="swipe-hint" onclick="unlockPhone()">Kilidi A√ßmak ƒ∞√ßin Yukarƒ± Kaydƒ±r</div><div class="home-bar"></div>
        </div>

        <div id="home-screen" class="screen">
            <div class="app-grid">
                <div class="app-icon" onclick="openApp('photos')"><div class="icon-box photos">üì∏</div><span class="icon-label">Anƒ±larƒ±mƒ±z</span></div>
                <div class="app-icon" onclick="openApp('notes')"><div class="icon-box notes">üìù</div><span class="icon-label">Mektup</span></div>
                <div class="app-icon" onclick="openApp('music')"><div class="icon-box music">üéµ</div><span class="icon-label">≈ûarkƒ±mƒ±z</span></div>
                <div class="app-icon" onclick="openApp('maps')"><div class="icon-box maps">üìç</div><span class="icon-label">Konum</span></div>
            </div>
            <div class="dock">
                <div class="app-icon" onclick="openApp('phone')"><div class="icon-box" style="background:#4CD964; font-size:24px;">üìû</div></div>
                <div class="app-icon" onclick="openApp('mail')"><div class="icon-box" style="background:#5AC8FA; font-size:24px;">üìß</div></div>
                <div class="app-icon" onclick="openApp('messages')"><div class="icon-box" style="background:#fff; color:black; font-size:24px;">üí¨</div></div>
                <div class="app-icon" onclick="openApp('heart')"><div class="icon-box" style="background:#FF2D55; font-size:24px;">‚ù§Ô∏è</div></div>
            </div>
            <div class="home-bar"></div>
        </div>

        <div id="app-notes" class="app-modal">
            <div class="modal-header"><button class="close-btn" onclick="closeApp('notes')">Kapat</button><span id="note-title">Mektup</span><button class="close-btn" onclick="toggleNoteMode()">‚úèÔ∏è</button></div>
            <div class="modal-content" style="padding:20px;">
                <div id="note-read-mode" class="note-paper" style="background:#fffdf2; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1);">
                    <p><b>Canƒ±m Sevgilim Sumru,</b></p><p>Seninle ge√ßen her an, hayatƒ±mƒ±n en g√ºzel g√ºncellemesi gibi... üòä</p><p>Atapark'ta ba≈ülayan bu hikaye, ≈üimdi telefonunun ekranƒ±nda ama en √∂nemlisi kalbimin tam merkezinde.</p><p>Yukarƒ±daki kaleme basƒ±p sen de bana cevap yazabilirsin.</p><p align="right"><b>- Kocan</b></p>
                </div>
                <div id="note-write-mode" style="display:none; height:100%;">
                    <div class="note-paper" style="background:#fffdf2; padding:20px; border-radius:10px; height:100%;">
                        <p style="color:#888; font-size:14px;">Kocana Cevap Yaz:</p><textarea id="reply-text" class="note-textarea" placeholder="Buraya yazabilirsin sevgilim..."></textarea>
                        <button class="whatsapp-btn" onclick="sendWhatsapp()"><span>WhatsApp ile G√∂nder</span><svg width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg></button>
                    </div>
                </div>
            </div>
        </div>

        <div id="app-maps" class="app-modal">
            <div class="modal-header"><span>Konum</span><button class="close-btn" onclick="closeApp('maps')">Kapat</button></div>
            <div class="modal-content" style="padding:20px;">
                <div class="map-container-fixed">
                    <iframe class="map-frame" src="https://maps.google.com/maps?q=U≈üak+Atapark&t=&z=15&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
                </div>
                <h3 style="margin-top:20px;">üìç Bizim Ba≈ülangƒ±cƒ±mƒ±z</h3><p style="color:#555;">U≈üak Atapark'ta hikayemiz ba≈üladƒ±...</p>
                <div style="background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%); padding:20px; border-radius:15px; text-align:center; color:white; margin-top:20px; margin-bottom:50px;">
                    <h4>Birlikte Ge√ßen S√ºre</h4><div style="font-size:32px; font-weight:bold; margin:5px 0;" id="days-counter">0 G√ºn</div><div style="font-size:12px; opacity:0.8;">24.10.2022'den beri ‚ù§Ô∏è</div>
                </div>
            </div>
        </div>

        <div id="app-music" class="app-modal">
            <div class="modal-header"><span>M√ºzik</span><button class="close-btn" onclick="closeApp('music')" style="color:white;">Kapat</button></div>
            <div class="music-bg"></div>
            <div class="music-ui">
                <div class="album-art"></div>
                <div class="song-info"><div class="song-title">A≈ük Olsun</div><div class="song-artist">Sen ve Ben</div></div>
                <div class="progress-bar-container"><div class="progress-line"><div class="progress-fill"></div></div><div class="time-info"><span>1:24</span><span>3:45</span></div></div>
                <div class="controls"><div class="ctrl-btn">‚èÆÔ∏è</div><div class="ctrl-btn play-pause-btn" onclick="toggleMusic()" id="play-btn">‚ñ∂Ô∏è</div><div class="ctrl-btn">‚è≠Ô∏è</div></div>
                <div style="margin-top:20px; display:flex; gap:15px; justify-content:center; opacity:0.6;"><span>üîà</span><div style="width:150px; height:4px; background:#555; border-radius:2px; margin-top:10px;"><div style="width:70%; height:100%; background:white;"></div></div><span>üîä</span></div>
            </div>
        </div>

        <div id="app-messages" class="app-modal"><div class="modal-header"><button class="close-btn" onclick="closeApp('messages')">‚ùÆ Geri</button><span>Kocan ‚ù§Ô∏è</span><div style="width:30px"></div></div><div class="modal-content" style="background:white;"><div class="chat-container" id="chat-list"></div></div></div>
        <div id="app-mail" class="app-modal"><div class="modal-header"><span>Gelen Kutusu</span><button class="close-btn" onclick="closeApp('mail')">Bitti</button></div><div class="modal-content" style="background:white;"><div style="padding:10px 20px; font-size:28px; font-weight:700;">Gelenler</div><div class="email-list" id="email-list"></div></div></div>
        <div id="app-phone" class="app-modal"><div class="modal-header"><span>Son Aramalar</span><button class="close-btn" onclick="closeApp('phone')">Kapat</button></div><div class="modal-content"><div class="call-list" id="call-list"></div></div></div>
        
        <div id="app-photos" class="app-modal">
            <div class="modal-header"><span>Alb√ºm</span><button class="close-btn" onclick="closeApp('photos')">Kapat</button></div>
            <div class="modal-content">
                <div class="photo-gallery">
                    <img src="IMG_2359" class="vertical-photo">
                    <img src="foto2.png" class="vertical-photo">
                </div>
                <p style="text-align:center; color:#888; margin-top:10px; font-size:14px;">En g√ºzel anƒ±larƒ±mƒ±z... ‚ù§Ô∏è</p>
            </div>
        </div>

        <div id="app-heart" class="app-modal">
            <button class="close-btn" onclick="closeApp('heart')" style="position:absolute; top:50px; right:20px; color:rgba(255,255,255,0.7); z-index:20;">‚úï</button>
            <div id="rain-container" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1;"></div>
            <div class="click-counter">‚ù§Ô∏è <span id="heart-count">0</span></div>
            <div class="heart-wrapper"><div class="main-heart idle" id="interaction-heart">‚ù§Ô∏è</div></div>
            <div id="secret-layer"><h1 style="color:white;">SUMRO≈û≈û<br>A≈ûIƒûIM<br>SANA! ‚ù§Ô∏è</h1><div style="font-size:14px; margin-top:30px; opacity:0.8; color:white; border:1px solid white; padding:5px 15px; border-radius:20px;">(Kapatmak i√ßin tƒ±kla)</div></div>
            <div id="counter-layer"><div style="font-size:100px;">üíç</div><h1 style="color:white; margin-top:20px; padding:0 20px;">24'√ºnde seni sevdim,<br>daha da bƒ±rakmam!</h1><div style="font-size:14px; margin-top:30px; opacity:0.8; color:white; border:1px solid white; padding:5px 15px; border-radius:20px;" onclick="closeCounterLayer()">Seni Seviyorum</div></div>
        </div>

    </div>

    <script>
        function updateTime(){const n=new Date();document.getElementById('clock').innerText=String(n.getHours()).padStart(2,'0')+':'+String(n.getMinutes()).padStart(2,'0');document.getElementById('date').innerText=n.toLocaleDateString('tr-TR',{weekday:'long',day:'numeric',month:'long'});const s=new Date("2022-10-24");const d=Math.ceil(Math.abs(n-s)/(1000*60*60*24));document.getElementById('days-counter').innerText=d+" G√ºnd√ºr";}setInterval(updateTime,1000);updateTime();
        function unlockPhone(){document.getElementById('lock-screen').style.transform='translateY(-100%)';document.getElementById('home-screen').style.transform='translateY(0)';}
        function openApp(id){document.getElementById('app-'+id).classList.add('active');if(id==='messages')loadMessages();if(id==='mail')loadEmails();if(id==='phone')loadCalls();if(id==='heart')resetHeartApp();}
        function closeApp(id){document.getElementById('app-'+id).classList.remove('active');if(id==='heart')stopRain();}
        function toggleNoteMode(){const r=document.getElementById('note-read-mode');const w=document.getElementById('note-write-mode');if(r.style.display!=='none'){r.style.display='none';w.style.display='block';document.getElementById('note-title').innerText='Cevap Yaz';}else{r.style.display='block';w.style.display='none';document.getElementById('note-title').innerText='Mektup';}}
        function sendWhatsapp(){var m=document.getElementById('reply-text').value;if(m.trim()===""){alert("L√ºtfen √∂nce g√ºzel bir ≈üeyler yaz :)");return;}window.location.href="https://wa.me/905315581447?text="+encodeURIComponent(m);}
        var audio=document.getElementById('bg-music');function toggleMusic(){if(audio.paused){audio.play();document.getElementById('play-btn').innerText='‚è∏Ô∏è';}else{audio.pause();document.getElementById('play-btn').innerText='‚ñ∂Ô∏è';}}

        // KALP MANTIƒûI
        const heartEl = document.getElementById('interaction-heart');
        const secretLayer = document.getElementById('secret-layer');
        const counterLayer = document.getElementById('counter-layer');
        const countSpan = document.getElementById('heart-count');
        const rainContainer = document.getElementById('rain-container');
        let pressTimer, rainInterval, heartClickCount = 0, isPressing = false;

        function resetHeartApp() {
            heartEl.classList.remove('growing', 'tap'); heartEl.classList.add('idle');
            secretLayer.classList.remove('visible'); counterLayer.classList.remove('visible');
            stopRain(); heartClickCount = 0; countSpan.innerText = heartClickCount; isPressing = false;
        }

        function startAction(e) {
            e.preventDefault(); isPressing = true; startRain();
            heartEl.classList.remove('idle'); heartEl.classList.add('tap'); 
            pressTimer = setTimeout(() => {
                if(isPressing) {
                    heartEl.classList.remove('tap'); heartEl.classList.add('growing');
                    setTimeout(() => { if(isPressing) { secretLayer.classList.add('visible'); heartEl.classList.remove('growing'); stopRain(); } }, 3000);
                }
            }, 300);
        }

        function endAction(e) {
            isPressing = false; clearTimeout(pressTimer);
            if (!heartEl.classList.contains('growing') && !secretLayer.classList.contains('visible')) {
                heartClickCount++; countSpan.innerText = heartClickCount;
                if(heartClickCount === 24) counterLayer.classList.add('visible');
            }
            heartEl.classList.remove('growing', 'tap'); heartEl.classList.add('idle'); setTimeout(stopRain, 1000);
        }

        heartEl.addEventListener('mousedown', startAction); heartEl.addEventListener('touchstart', startAction);
        heartEl.addEventListener('mouseup', endAction); heartEl.addEventListener('touchend', endAction); heartEl.addEventListener('mouseleave', endAction);

        secretLayer.addEventListener('click', () => secretLayer.classList.remove('visible'));
        function closeCounterLayer() { counterLayer.classList.remove('visible'); }
        function startRain() { if(!rainInterval) rainInterval = setInterval(createFallingHeart, 100); }
        function stopRain() { clearInterval(rainInterval); rainInterval = null; }
        function createFallingHeart() {
            const h = document.createElement('div'); h.classList.add('falling-heart');
            h.innerText = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üíó'][Math.floor(Math.random() * 4)];
            h.style.left = Math.random() * 100 + '%';
            h.style.fontSize = (Math.random() * 20 + 15) + 'px';
            h.style.animationDuration = (Math.random() * 3 + 2) + 's';
            rainContainer.appendChild(h); setTimeout(() => h.remove(), 5000);
        }

        // ƒ∞√áERƒ∞K
        function loadMessages(){const c=document.getElementById('chat-list');if(c.innerHTML.trim()!=="")return;
            const msgs=[{t:"Merhaba g√ºzellik üëã",s:"in"},{t:"Nasƒ±lsƒ±n a≈ükƒ±m?",s:"in"},{t:"ƒ∞yiyim sevgilim sen?",s:"out"},{t:"Seninle konu≈üunca daha iyiyim üòä",s:"in"},{t:"G√ºnaydƒ±n her ≈üeyim! ‚òÄÔ∏è",s:"in"},{t:"Bug√ºn hava √ßok g√ºzel, aklƒ±ma sen geldin.",s:"in"},{t:"Ak≈üam Atapark'ta bulu≈üalƒ±m mƒ±?",s:"in"},{t:"Olur tabiii ‚ù§Ô∏è",s:"out"},{t:"Seni seviyorum Sumru!",s:"in"},{t:"Ben de seniii!",s:"out"},{t:"Eve vardƒ±n mƒ±?",s:"in"},{t:"Evet ≈üimdi girdim",s:"out"},{t:"Tamamdƒ±r, iyi geceler meleƒüim üåô",s:"in"}];
            msgs.forEach(m=>{c.innerHTML+=`<div class="msg-bubble ${m.s==='in'?'msg-received':'msg-sent'}">${m.t}</div>`;});}
        function loadEmails(){const e=document.getElementById('email-list');if(e.innerHTML.trim()!=="")return;
            const mails=[{s:"S√ºrpriz Hazƒ±r! üéÅ",p:"Ak≈üama g√∂zlerini kapatmanƒ± isteyeceƒüim...",t:"14:20"},{s:"Sonsuzluƒüa...",p:"Seninle ba≈üladƒ±ƒüƒ±mƒ±z bu yolculukta...",t:"10:30"},{s:"U√ßak Biletleri: Roma",p:"Hayallerimizi ger√ßekle≈ütirmeye bir adƒ±m daha...",t:"09:15"},{s:"Tatil Planlarƒ± üèñÔ∏è",p:"Bu yaz nereye gitmek istersin? Seninle her yer cennet bana.",t:"D√ºn"},{s:"Netflix ≈ûifresi",p:"Yeni ≈üifreyi unuttun mu yoksa? :)",t:"D√ºn"},{s:"Seni √áok √ñzledim",p:"Sadece bunu s√∂ylemek istedim.",t:"Paz"},{s:"Fotoƒüraflar",p:"Ge√ßen g√ºnk√º fotoƒüraflarƒ± ekte g√∂nderdim.",t:"Paz"},{s:"Yƒ±ld√∂n√ºm√º Hatƒ±rlatmasƒ±",p:"24 Ekim yakla≈üƒ±yor, harika planlarƒ±m var hazƒ±r ol!",t:"Cum"},{s:"Bizim ≈ûarkƒ±mƒ±z",p:"Bunu dinleyince aklƒ±ma sen geldin...",t:"Cum"},{s:"Te≈üekk√ºr ederim",p:"Bana kattƒ±ƒüƒ±n t√ºm g√ºzellikler i√ßin...",t:"Per"},{s:"Alƒ±≈üveri≈ü Listesi",p:"√áikolata almayƒ± unutma! üç´",t:"√áar"}];
            mails.forEach(m=>{e.innerHTML+=`<div class="email-item"><div><b>Kocan ‚ù§Ô∏è</b><br>${m.s}<br><small style="color:#888;">${m.p}</small></div><small style="color:#888;">${m.t}</small></div>`;});}
        function loadCalls(){const p=document.getElementById('call-list');if(p.innerHTML.trim()!=="")return;
            const calls=[{t:"missed",c:3,tm:"11:42"},{t:"in",c:0,tm:"10:15"},{t:"out",c:0,tm:"09:00"},{t:"missed",c:1,tm:"D√ºn"},{t:"in",c:0,tm:"D√ºn"},{t:"out",c:0,tm:"Pazar"},{t:"missed",c:5,tm:"Cumartesi"},{t:"in",c:0,tm:"Cumartesi"},{t:"in",c:0,tm:"Cuma"},{t:"out",c:0,tm:"Per≈üembe"},{t:"missed",c:2,tm:"√áar≈üamba"},{t:"in",c:0,tm:"√áar≈üamba"},{t:"out",c:0,tm:"Salƒ±"},{t:"in",c:0,tm:"Pazartesi"}];
            calls.forEach(c=>{p.innerHTML+=`<div class="call-item"><div style="display:flex;align-items:center;gap:10px;"><span style="font-size:18px;">üìû</span><div><b style="color:${c.t==='missed'?'#FF3B30':'#000'}">Kocan ‚ù§Ô∏è</b><br><small style="color:#888">Mobil ‚Ä¢ ${c.t==='missed'?'Cevapsƒ±z ('+c.c+')':(c.t==='in'?'Gelen':'Giden')}</small></div></div><small style="color:#888">${c.tm}</small></div>`;});}
    </script>
</body>
</html>
