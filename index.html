<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <title>Sumru â¤ï¸</title>
    
    <style>
        /* --- GENEL AYARLAR --- */
        :root { --ios-blur: blur(25px); --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; --ios-blue: #007AFF; }
        body { margin: 0; padding: 0; background-color: #111; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: var(--font-stack); overflow: hidden; user-select: none; -webkit-tap-highlight-color: transparent; }
        
        .iphone-frame { width: 375px; height: 812px; background: #000; border-radius: 50px; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 12px solid #222; overflow: hidden; }
        @media (max-width: 500px) { .iphone-frame { width: 100%; height: 100%; border: none; border-radius: 0; } }
        
        .wallpaper { width: 100%; height: 100%; background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 50%, #a18cd1 100%); background-size: 200% 200%; position: absolute; top: 0; left: 0; z-index: 0; animation: gradientMove 15s ease infinite alternate; }
        @keyframes gradientMove { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
        
        .screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1); display: flex; flex-direction: column; align-items: center; color: white; z-index: 10; padding-top: 50px; padding-bottom: 30px; box-sizing: border-box; }

        /* KÄ°LÄ°T EKRANI */
        #lock-screen { justify-content: flex-start; background: rgba(0,0,0,0.2); }
        .time-container { animation: slideInDown 0.8s ease-out; text-align: center; margin-top: 20px; }
        .time { font-size: 85px; font-weight: 200; line-height: 1; text-shadow: 0 2px 10px rgba(0,0,0,0.2); margin: 0; }
        .date { font-size: 22px; font-weight: 500; margin-top: 5px; text-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .notification-container { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-top: 30px; align-items: center; }
        .notification { background: rgba(255, 255, 255, 0.75); backdrop-filter: var(--ios-blur); width: 88%; border-radius: 18px; padding: 12px 15px; color: black; box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer; text-align: left; display: flex; gap: 12px; align-items: center; animation: slideInUp 0.6s ease backwards; }
        .notification:nth-child(1) { animation-delay: 0.2s; } .notification:nth-child(2) { animation-delay: 0.4s; } .notification:nth-child(3) { animation-delay: 0.6s; }
        .notif-icon-area { width: 38px; height: 38px; border-radius: 8px; overflow: hidden; flex-shrink: 0; display: flex; justify-content: center; align-items: center; }
        .notif-icon-area img { width: 100%; height: 100%; object-fit: cover; }
        .notif-text-area { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .notif-header { display: flex; justify-content: space-between; font-size: 11px; text-transform: uppercase; color: #444; margin-bottom: 3px; font-weight: 600; width: 100%; }
        .notif-content h4 { margin: 0; font-size: 15px; font-weight: 700; line-height: 1.2; }
        .notif-content p { margin: 2px 0 0; font-size: 14px; color: #111; line-height: 1.2;}
        .swipe-hint { position: absolute; bottom: 40px; font-size: 15px; opacity: 0.8; animation: bounce 2s infinite; animation-delay: 1s; }
        .home-bar { position: absolute; bottom: 8px; width: 140px; height: 5px; background: white; border-radius: 10px; z-index: 100; }
        @keyframes slideInUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideInDown { from { opacity: 0; transform: translateY(-40px); } to { opacity: 1; transform: translateY(0); } }

        /* ANA EKRAN */
        #home-screen { transform: translateY(100%); justify-content: flex-start; }
        .app-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px 15px; width: 90%; margin-top: 30px; }
        .app-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; transition: transform 0.1s; }
        .app-icon:active { transform: scale(0.9); }
        .icon-box { width: 62px; height: 62px; border-radius: 16px; display: flex; justify-content: center; align-items: center; font-size: 30px; color: white; margin-bottom: 6px; box-shadow: 0 5px 10px rgba(0,0,0,0.2); }
        .icon-label { font-size: 12px; font-weight: 500; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        .dock { position: absolute; bottom: 30px; width: 90%; height: 95px; background: rgba(255,255,255,0.25); backdrop-filter: blur(40px); border-radius: 35px; display: flex; justify-content: space-around; align-items: center; }
        
        /* Ä°KON RENKLERÄ° */
        .photos { background: linear-gradient(180deg, #ff9a9e 0%, #fecfef 100%); } .notes { background: linear-gradient(180deg, #fccb90 0%, #d57eeb 100%); }
        .music { background: linear-gradient(180deg, #fa709a 0%, #fee140 100%); } .maps { background: linear-gradient(180deg, #8fd3f4 0%, #84fab0 100%); }
        .weather { background: linear-gradient(180deg, #54C8FF 0%, #007AFF 100%); }
        .wheel-icon { background: linear-gradient(180deg, #FF512F 0%, #DD2476 100%); }
        .settings-icon { background: linear-gradient(180deg, #8E8E93 0%, #636366 100%); }
        .wallet-icon { background: linear-gradient(180deg, #34C759 0%, #30B34E 100%); }
        /* Yeni Yemek Ä°konu Rengi */
        .food-icon-bg { background: linear-gradient(135deg, #ff9966 0%, #ff5e62 100%); }

        /* MODAL */
        .app-modal { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #f2f2f7; color: #000; z-index: 60; transform: scale(0.95) translateY(20px); opacity: 0; pointer-events: none; transition: all 0.4s cubic-bezier(0.32, 0.72, 0, 1); display: flex; flex-direction: column; border-radius: 40px; overflow: hidden; }
        .app-modal.active { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; border-radius: 0; }
        .modal-header { padding: 50px 20px 15px; background: rgba(249,249,249,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; font-weight: 600; font-size: 17px; position: sticky; top: 0; z-index: 5; flex-shrink: 0; }
        .close-btn { color: var(--ios-blue); border: none; background: none; font-size: 17px; cursor: pointer; font-weight: 400; }
        .modal-content { flex: 1; overflow-y: auto; padding-bottom: 50px; -webkit-overflow-scrolling: touch; }

        /* MESAJLAÅMA */
        #app-messages .modal-content { display: flex; flex-direction: column; height: 100%; padding: 0; background: white; overflow: hidden; position: relative; }
        .chat-wrapper { display: flex; flex-direction: column; height: 100%; overflow: hidden; }
        .chat-container { flex: 1; padding: 15px; display: flex; flex-direction: column; gap: 10px; overflow-y: auto; padding-bottom: 20px; }
        .chat-input-area { flex-shrink: 0; padding: 15px; background: #f0f0f0; border-top: 1px solid #ddd; display: flex; align-items: center; gap: 10px; padding-bottom: max(20px, env(safe-area-inset-bottom)); }
        .msg-bubble { max-width: 75%; padding: 10px 15px; border-radius: 20px; font-size: 16px; line-height: 1.4; position: relative; word-wrap: break-word; }
        .msg-received { background: #e5e5ea; align-self: flex-start; border-bottom-left-radius: 5px; color: black; }
        .msg-sent { background: var(--ios-blue); color: white; align-self: flex-end; border-bottom-right-radius: 5px; }
        .msg-typing { background: #e5e5ea; align-self: flex-start; border-bottom-left-radius: 5px; padding: 10px 15px; display: none; margin-left: 15px; margin-bottom: 10px; flex-shrink: 0;}
        .dot { height: 8px; width: 8px; background-color: #999; border-radius: 50%; display: inline-block; animation: typing 1.4s infinite ease-in-out both; margin: 0 2px; }
        .dot:nth-child(1) { animation-delay: -0.32s; } .dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
        .chat-input { flex: 1; border: 1px solid #ccc; border-radius: 20px; padding: 10px 15px; font-size: 16px; outline: none; background: white; }
        .chat-send-btn { color: var(--ios-blue); font-weight: bold; cursor: pointer; font-size: 20px; border: none; background: none; }

        /* UYGULAMA Ä°Ã‡ERÄ°KLERÄ° */
        .email-list, .call-list { background: white; margin-top: 0; }
        .email-item, .call-item { padding: 15px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: background 0.2s; }
        .email-item:active, .call-item:active { background: #f0f0f0; }
        .note-paper { font-family: 'Marker Felt', 'Comic Sans MS', sans-serif; line-height: 1.6; color: #333; }
        .note-textarea { width: 100%; height: 300px; background: transparent; border: none; outline: none; font-size: 18px; font-family: inherit; resize: none; background-image: linear-gradient(transparent 95%, #e1e1e1 95%); background-size: 100% 30px; margin-top: 10px; }
        .whatsapp-btn { width: 100%; padding: 15px; background: #25D366; color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; margin-top: 20px; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px; }
        .map-container-fixed { width: 100%; height: 350px; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); position: relative; flex-shrink: 0; }
        .map-frame { width: 100%; height: 100%; border: 0; display: block; }
        #mail-read-view { display: none; background: white; height: 100%; padding: 20px; box-sizing: border-box; }
        .read-subject { font-size: 24px; font-weight: 700; margin-bottom: 10px; line-height: 1.2; }
        .read-meta { display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 20px; color: #555; font-size: 15px; }
        .read-body { font-size: 17px; line-height: 1.5; color: #333; white-space: pre-wrap; }
        .read-actions { margin-top: 30px; border-top: 1px solid #eee; padding-top: 15px; text-align: center; color: var(--ios-blue); font-size: 24px; cursor: pointer; }
        
        /* AÅK DURUMU */
        #app-weather .modal-content { background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%); color: white; padding: 0; overflow-y: auto; }
        #app-weather .modal-header { background: transparent; border: none; padding-top: max(40px, var(--safe-area-top)); padding-bottom: 10px; }
        #app-weather .modal-header span { color: #000000; font-weight: 600; font-size: 17px; text-shadow: none; }
        #app-weather .close-btn { color: var(--ios-blue); background: rgba(255,255,255,0.7); padding: 5px 12px; border-radius: 15px; font-size: 14px; font-weight: 600; border: none; }
        .weather-main { text-align: center; padding: 30px 20px; background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(10px); margin: 10px 20px 20px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.2); }
        .weather-location { font-size: 28px; font-weight: 700; margin-bottom: 5px; text-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; gap: 8px;}
        .weather-icon-large { font-size: 90px; margin: 15px 0; cursor: pointer; user-select: none; transition: transform 2s ease; filter: drop-shadow(0 0 20px rgba(255,255,0,0.6)); }
        .weather-icon-large.growing { transform: scale(1.6) rotate(180deg); filter: drop-shadow(0 0 50px rgba(255,255,0,1)); }
        .weather-temp { font-size: 55px; font-weight: 300; display: flex; justify-content: center; align-items: center; gap: 10px; }
        .weather-desc { font-size: 18px; font-weight: 500; margin-top: 5px; opacity: 0.95; letter-spacing: 0.5px; }
        .forecast-list { background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); margin: 0 20px 40px; border-radius: 20px; padding: 10px; border: 1px solid rgba(255,255,255,0.2); }
        .forecast-item { display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.2); font-size: 16px; font-weight: 600; text-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .forecast-item:last-child { border-bottom: none; }
        #love-explosion-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(255, 200, 0, 0.9); display: flex; justify-content: center; align-items: center; z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.5s; flex-direction: column; }
        #love-explosion-overlay.visible { opacity: 1; pointer-events: auto; }
        #love-explosion-overlay h1 { font-size: 40px; color: #d32f2f; text-align: center; text-shadow: 0 2px 10px rgba(0,0,0,0.2); animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        /* MÃœZÄ°K */
        #app-music { background: #1c1c1e; color: white; }
        #app-music .modal-header { background: rgba(30,30,30,0.8); color: white; border-bottom: none; }
        .music-bg { position: absolute; top:0; left:0; width:100%; height:100%; background: url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=500') no-repeat center center/cover; opacity: 0.3; filter: blur(40px); z-index: 0; }
        .music-ui { position: relative; z-index: 2; display: flex; flex-direction: column; height: 90%; padding: 20px; justify-content: space-evenly; }
        .album-art { width: 280px; height: 280px; border-radius: 15px; background: url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=500') center/cover; margin: 0 auto; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
        .song-info { margin-top: 20px; text-align: left; width: 100%; }
        .song-title { font-size: 24px; font-weight: 700; margin-bottom: 5px; }
        .song-artist { font-size: 18px; color: #ccc; }
        .progress-bar-container { width: 100%; margin-top: 20px; }
        .progress-line { width: 100%; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px; }
        .progress-fill { width: 30%; height: 100%; background: #fff; border-radius: 2px; }
        .time-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-top: 8px; }
        .controls { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; width: 100%; padding: 0 10px; box-sizing: border-box; }
        .ctrl-btn { font-size: 35px; cursor: pointer; color: white; opacity: 0.9; }
        .play-pause-btn { font-size: 55px; }
        
        /* KALP STÄ°LLERÄ° */
        #app-heart { background: radial-gradient(circle at center, #3a000a 0%, #000000 100%); color: white; overflow: hidden; }
        .click-counter { position: absolute; top: 60px; left: 20px; font-size: 20px; font-weight: 600; opacity: 0.8; color: white; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; z-index: 30; pointer-events: none; }
        .heart-wrapper { position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; z-index: 5; }
        .main-heart { font-size: 140px; cursor: pointer; user-select: none; -webkit-tap-highlight-color: transparent; z-index: 10; padding: 100px; margin: -100px; filter: drop-shadow(0 0 20px rgba(255, 0, 50, 0.4)); transition: transform 0.2s cubic-bezier(0.1, 0.7, 1.0, 0.1), filter 0.2s ease; }
        .main-heart.idle { animation: idleBeat 2.5s infinite ease-in-out; }
        .main-heart.tap { transform: scale(0.9); filter: drop-shadow(0 0 50px rgba(255, 0, 50, 0.9)); }
        .main-heart.growing { transition: transform 3s linear; transform: scale(4); filter: drop-shadow(0 0 100px rgba(255, 0, 50, 1)); }
        #secret-layer, #counter-layer { position: absolute; top:0; left:0; width:100%; height:100%; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 20; opacity: 0; pointer-events: none; transition: opacity 0.8s ease; text-align: center; }
        #secret-layer { background: rgba(200, 10, 50, 0.95); } #counter-layer { background: rgba(0, 0, 0, 0.95); }
        #secret-layer.visible, #counter-layer.visible { opacity: 1; pointer-events: auto; }
        .falling-heart { position: absolute; top: -50px; font-size: 20px; opacity: 0.8; pointer-events: none; z-index: 1; animation: fallDown linear forwards; }
        @keyframes idleBeat { 0%, 100% {transform: scale(1);} 50% {transform: scale(1.08);} }
        @keyframes fallDown { to { transform: translateY(900px) rotate(360deg); opacity: 0; } }
        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }
        .photo-gallery { padding: 20px; display: grid; grid-template-columns: repeat(2, 1fr); grid-auto-rows: 180px; gap: 15px; }
        .gallery-photo { width: 100%; height: 100%; object-fit: cover; border-radius: 18px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); transition: all 0.3s ease; cursor: pointer; }
        .photo-tall { grid-row: span 2; height: 100%; } .photo-wide { grid-column: span 2; } 
        .gallery-photo:hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 15px 35px rgba(0,0,0,0.3); }
        .surprise-box { grid-column: span 2; background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); border-radius: 18px; padding: 25px; text-align: center; color: white; font-weight: bold; cursor: pointer; box-shadow: 0 10px 25px rgba(0,0,0,0.2); margin-top: 10px; transition: all 0.4s ease; position: relative; overflow: hidden; }
        .surprise-box:hover { transform: scale(1.02); }
        .surprise-box.revealed { background: linear-gradient(135deg, #ff7eb3 0%, #ff758c 100%); transform: scale(1.05); box-shadow: 0 15px 40px rgba(255, 126, 179, 0.4); }
        .initial-text { transition: opacity 0.3s; }
        .surprise-content { display: none; opacity: 0; margin-top: 15px; font-size: 20px; line-height: 1.4; transform: translateY(20px); transition: all 0.5s ease; }
        .confetti { position: absolute; pointer-events: none; z-index: 70; animation: explode 2s ease-out forwards; }
        @keyframes explode { 0% { opacity: 1; transform: translate(0,0) rotate(0); } 100% { opacity: 0; transform: translate(var(--x), var(--y)) rotate(var(--r)); } }
        #calling-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(20px); z-index: 100; display: none; flex-direction: column; align-items: center; padding-top: 80px; box-sizing: border-box; color: white; }
        .caller-img { width: 120px; height: 120px; border-radius: 50%; background: #333; margin-bottom: 20px; object-fit: cover; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .call-status { font-size: 18px; color: #ccc; margin-bottom: 5px; }
        .call-name { font-size: 32px; font-weight: 600; margin-bottom: 50px; }
        .call-actions { width: 80%; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: auto; margin-bottom: 50px; }
        .action-btn { width: 70px; height: 70px; border-radius: 50%; background: rgba(255,255,255,0.15); display: flex; justify-content: center; align-items: center; font-size: 28px; margin: 0 auto; backdrop-filter: blur(10px); }
        .hangup-btn { grid-column: span 2; width: 80px; height: 80px; background: #FF3B30; margin: 30px auto 0; font-size: 35px; }

        /* --- AÅK Ã‡ARKI STÄ°LLERÄ° --- */
        #app-wheel .modal-content { background: linear-gradient(to top, #dad4ec 0%, #f3e7e9 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .wheel-title { text-align:center; color:#444; margin-bottom:30px; font-weight: 700; letter-spacing: 0.5px;}
        .wheel-container { position: relative; width: 300px; height: 300px; margin: 20px auto; box-sizing: border-box; }
        .wheel-outer { width: 100%; height: 100%; border-radius: 50%; border: 10px solid white; box-shadow: 0 15px 40px rgba(0,0,0,0.2); overflow: hidden; position: relative; transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99); box-sizing: border-box; }
        .wheel-inner { width: 100%; height: 100%; position: relative; background: conic-gradient(#FF9A9E 0deg 36deg, #FECFEF 36deg 72deg, #a18cd1 72deg 108deg, #fbc2eb 108deg 144deg, #8fd3f4 144deg 180deg, #84fab0 180deg 216deg, #f6d365 216deg 252deg, #fda085 252deg 288deg, #d4fc79 288deg 324deg, #96e6a1 324deg 360deg); border-radius: 50%; }
        .wheel-labels { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%; pointer-events: none; }
        .wheel-labels span { position: absolute; top: 50%; left: 50%; font-size: 24px; transform-origin: 0 0; transform: translate(-50%, -50%) rotate(calc((var(--i) * 36deg) + 18deg)) translateY(-115px) rotate(calc((var(--i) * -36deg) - 18deg)); text-shadow: 0 1px 2px rgba(0,0,0,0.2); }
        .wheel-arrow { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 25px solid transparent; border-right: 25px solid transparent; border-top: 50px solid #333; z-index: 10; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.3)); }
        .wheel-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; background: white; border-radius: 50%; box-shadow: 0 5px 20px rgba(0,0,0,0.15); display: flex; justify-content: center; align-items: center; font-size: 36px; z-index: 5; border: 6px solid #fff; box-sizing: border-box; }
        .spin-btn { margin-top: 40px; padding: 15px 60px; background: var(--ios-blue); color: white; font-size: 20px; font-weight: bold; border: none; border-radius: 30px; box-shadow: 0 8px 20px rgba(0,122,255,0.4); cursor: pointer; transition: all 0.2s; }
        .spin-btn:active { transform: scale(0.95); box-shadow: 0 4px 10px rgba(0,122,255,0.3); }
        .spin-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        #wheel-result-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(8px); z-index: 20; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.4s ease; }
        #wheel-result-overlay.visible { opacity: 1; pointer-events: auto; }
        .result-box { background: white; padding: 35px; border-radius: 30px; text-align: center; width: 80%; max-width: 300px; box-shadow: 0 25px 50px rgba(0,0,0,0.4); transform: scale(0.7); opacity: 0; transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        #wheel-result-overlay.visible .result-box { transform: scale(1); opacity: 1;}
        .result-icon { font-size: 70px; margin-bottom: 15px; display: block; animation: bounce 1.5s infinite; }
        .result-text { margin: 10px 0 25px; color: #333; font-size: 26px; font-weight: 800; line-height: 1.3; }
        .result-close-btn { padding: 12px 30px; background: var(--ios-blue); color: white; border: none; border-radius: 20px; font-size: 18px; font-weight: 600; cursor: pointer; }

        /* AÅK AYARLARI (SADE LÄ°STE) */
        #app-settings .modal-content { background: #f2f2f7; padding: 20px; }
        .settings-group { background: white; border-radius: 10px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .setting-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer;}
        .setting-item:last-child { border-bottom: none; }
        .setting-icon { width: 30px; height: 30px; border-radius: 6px; display: flex; justify-content: center; align-items: center; margin-right: 12px; color: white; font-size: 18px; }
        .setting-label { flex: 1; font-size: 16px; color: #000; }
        .setting-value { font-size: 15px; color: #8e8e93; display: flex; align-items: center; gap: 5px; }
        .profile-section { display: flex; align-items: center; background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        .profile-pic { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-right: 15px; border: 1px solid #eee; }
        .profile-info h3 { margin: 0; font-size: 18px; font-weight: 600; }
        .profile-info p { margin: 3px 0 0; font-size: 14px; color: #888; }
        .toggle-switch { position: relative; width: 50px; height: 30px; -webkit-appearance: none; background: #e9e9ea; outline: none; border-radius: 15px; transition: .3s; cursor: pointer; pointer-events: auto; }
        .toggle-switch:checked { background: #34C759; }
        .toggle-switch::before { content: ''; position: absolute; width: 26px; height: 26px; border-radius: 50%; top: 2px; left: 2px; background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: .3s; }
        .toggle-switch:checked::before { left: 22px; }

        /* --- CÃœZDAN UYGULAMASI STÄ°LLERÄ° --- */
        #app-wallet .modal-content { background: linear-gradient(to bottom, #1e3c72, #2a5298); color: white; padding: 20px; }
        #app-wallet .modal-header { background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1); }
        #app-wallet .modal-header span { color: #000000; font-weight: 700; }
        #app-wallet .close-btn { color: var(--ios-blue); background: white; padding: 6px 14px; border-radius: 15px; font-weight: 600; }
        .wallet-title { font-size: 28px; font-weight: 700; margin-bottom: 20px; letter-spacing: 0.5px; text-shadow: 0 2px 5px rgba(0,0,0,0.3); }
        
        .coupon-card { position: relative; height: 160px; margin-bottom: -70px; border-radius: 20px; padding: 20px; box-sizing: border-box; box-shadow: 0 -5px 25px rgba(0,0,0,0.5); transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; display: flex; flex-direction: column; justify-content: space-between; overflow: hidden; border-top: 1px solid rgba(255,255,255,0.2); }
        .coupon-card:hover { transform: translateY(-30px) scale(1.02); z-index: 100; box-shadow: 0 10px 40px rgba(0,0,0,0.6); }
        .coupon-card:last-child { margin-bottom: 30px; }
        
        /* Kart Renkleri */
        .coupon-1 { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%); color: #555; }
        .coupon-2 { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); color: white; }
        .coupon-3 { background: linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%); color: #333; }
        .coupon-4 { background: linear-gradient(135deg, #fccb90 0%, #d57eeb 100%); color: #333; }
        .coupon-5 { background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%); color: #333; }
        .coupon-6 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
        .coupon-7 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
        .coupon-8 { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: #333; }
        .coupon-9 { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #555; }
        .coupon-10 { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); color: white; }
        .coupon-11 { background: linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%); color: #333; }
        .coupon-12 { background: linear-gradient(135deg, #fccb90 0%, #d57eeb 100%); color: #333; }

        .coupon-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .coupon-title { font-size: 22px; font-weight: 800; line-height: 1.1; width: 80%; }
        .coupon-icon { font-size: 36px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); }
        .coupon-footer { display: flex; justify-content: space-between; align-items: center; font-size: 13px; opacity: 0.9; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }

        /* KUPON DETAYI */
        #coupon-detail-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(15px); z-index: 2000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
        #coupon-detail-overlay.visible { opacity: 1; pointer-events: auto; }
        .coupon-detail-card { width: 85%; background: white; border-radius: 25px; overflow: hidden; box-shadow: 0 30px 60px rgba(0,0,0,0.6); text-align: center; transform: scale(0.8); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        #coupon-detail-overlay.visible .coupon-detail-card { transform: scale(1); }
        .detail-header { height: 120px; display: flex; justify-content: center; align-items: center; font-size: 60px; color: white; position: relative; overflow: hidden;}
        .detail-header::after { content: ''; position: absolute; bottom: -20px; left: -10%; width: 120%; height: 40px; background: white; border-radius: 50%; }
        .detail-body { padding: 10px 25px 30px; color: #333; }
        .detail-title { font-size: 26px; font-weight: 800; margin-bottom: 10px; color: #222; }
        .detail-desc { font-size: 17px; color: #555; line-height: 1.6; margin-bottom: 30px; font-weight: 400;}
        .use-btn { width: 100%; padding: 16px; background: #34C759; color: white; font-size: 18px; font-weight: bold; border: none; border-radius: 15px; cursor: pointer; box-shadow: 0 5px 15px rgba(52, 199, 89, 0.4); transition: all 0.2s; }
        .use-btn:active { transform: scale(0.95); }
        .close-detail-btn { margin-top: 20px; background: none; border: none; color: #999; font-size: 15px; cursor: pointer; font-weight: 500; }

        /* AÅK MUTFAÄI (DÃœZELTÄ°LDÄ°: SÄ°METRÄ°K BUTONLAR & SABÄ°T SEPET) */
        #app-food .modal-content { background: #f5f5f5; padding: 0; position: relative; overflow-y: auto; height: 100%; }
        #app-food .modal-header { background: white; border-bottom: 1px solid #eee; }
        
        .food-category { padding: 20px 20px 10px; font-size: 18px; font-weight: 800; color: #333; }
        .food-list { padding-bottom: 100px; /* Sepet barÄ± iÃ§in alt boÅŸluk */ }
        
        .food-item { background: white; margin: 10px 20px; padding: 15px; border-radius: 20px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.2s; }
        .food-item:active { transform: scale(0.98); }
        
        .f-img { font-size: 35px; width: 45px; text-align: center; margin-right: 15px; }
        .f-info { flex: 1; }
        .f-name { font-weight: 700; font-size: 16px; color: #000; display: block; margin-bottom: 4px; }
        .f-desc { font-size: 12px; color: #888; display: block; margin-bottom: 4px; line-height: 1.2; }
        .f-price { font-size: 11px; color: #ff5e62; font-weight: 700; background: rgba(255, 94, 98, 0.1); padding: 4px 8px; border-radius: 10px; display: inline-block; text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* Simetrik Butonlar */
        .f-actions { display: flex; align-items: center; justify-content: center; gap: 8px; width: 90px; }
        .btn-qty { width: 30px; height: 30px; border-radius: 50%; border: none; font-size: 18px; font-weight: 600; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: all 0.2s; padding: 0; line-height: 1; }
        .btn-plus { background: #ff5e62; color: white; box-shadow: 0 4px 10px rgba(255, 94, 98, 0.3); }
        .btn-minus { background: white; color: #ff5e62; border: 2px solid #ff5e62; display: none; } 
        .qty-num { font-weight: 700; font-size: 16px; min-width: 20px; text-align: center; display: none; color: #333; }

        .has-item .btn-minus, .has-item .qty-num { display: flex; display: block; }
        
        /* Sabit Sepet BarÄ± */
        .cart-bar { position: absolute; bottom: 30px; left: 5%; width: 90%; background: #222; color: white; padding: 15px 20px; border-radius: 25px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 10px 40px rgba(0,0,0,0.4); transform: translateY(200%); transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); z-index: 100; box-sizing: border-box; cursor: pointer; }
        .cart-bar.active { transform: translateY(0); }
        .cart-total { font-weight: 700; display: flex; flex-direction: column; }
        .cart-btn-txt { font-weight: 700; color: #ff5e62; background: white; padding: 10px 20px; border-radius: 20px; font-size: 14px; }

    </style>
</head>
<body>

    <audio id="bg-music" loop><source src="cakal.mp3" type="audio/mpeg"></audio>

    <div class="iphone-frame">
        <div class="wallpaper"></div>

        <div id="lock-screen" class="screen">
            <div class="time-container"><div style="font-size:20px;">ğŸ”’</div><div class="time" id="clock">--:--</div><div class="date" id="date">...</div></div>
            <div class="notification-container">
                <div class="notification" onclick="unlockPhone()"><div class="notif-icon-area" style="background:#4CD964;"><span style="font-size:20px; color:white;">ğŸ’¬</span></div><div class="notif-text-area"><div class="notif-header"><span>MESAJLAR</span><span>ÅÄ°MDÄ°</span></div><div class="notif-content"><h4>Sumru â¤ï¸</h4><p>Sana Ã¶zel bir sÃ¼rprizim var!...</p></div></div></div>
                <div class="notification" onclick="unlockPhone()"><div class="notif-icon-area"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/600px-Instagram_icon.png" alt="IG"></div><div class="notif-text-area"><div class="notif-header"><span>INSTAGRAM</span><span>2dk Ã¶nce</span></div><div class="notif-content"><h4>Kocan â¤ï¸</h4><p>kocan reels gÃ¶nderdi â–¶ï¸</p></div></div></div>
                <div class="notification" onclick="unlockPhone()"><div class="notif-icon-area" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);"><span style="font-size:20px;">ğŸµ</span></div><div class="notif-text-area"><div class="notif-header"><span>MÃœZÄ°K</span><span>ÅÄ°MDÄ°</span></div><div class="notif-content"><h4>HatÄ±rlatma</h4><p>Ä°lk Ã¶nce mÃ¼ziÄŸini aÃ§mayÄ± unutma ğŸ˜‰</p></div></div></div>
            </div>
            <div class="swipe-hint" onclick="unlockPhone()">Kilidi AÃ§mak Ä°Ã§in YukarÄ± KaydÄ±r</div><div class="home-bar"></div>
        </div>

        <div id="home-screen" class="screen">
            <div class="app-grid">
                <div class="app-icon" onclick="openApp('photos')"><div class="icon-box photos">ğŸ“¸</div><span class="icon-label">AnÄ±larÄ±mÄ±z</span></div>
                <div class="app-icon" onclick="openApp('notes')"><div class="icon-box notes">ğŸ“</div><span class="icon-label">Mektup</span></div>
                <div class="app-icon" onclick="openApp('music')"><div class="icon-box music">ğŸµ</div><span class="icon-label">ÅarkÄ±mÄ±z</span></div>
                <div class="app-icon" onclick="openApp('maps')"><div class="icon-box maps">ğŸ“</div><span class="icon-label">Konum</span></div>
                <div class="app-icon" onclick="openApp('weather')"><div class="icon-box weather">â˜€ï¸</div><span class="icon-label">AÅŸk Durumu</span></div>
                <div class="app-icon" onclick="openApp('wheel')"><div class="icon-box wheel-icon">ğŸ¡</div><span class="icon-label">AÅŸk Ã‡arkÄ±</span></div>
                <div class="app-icon" onclick="openApp('settings')"><div class="icon-box settings-icon">âš™ï¸</div><span class="icon-label">Ayarlar</span></div>
                <div class="app-icon" onclick="openApp('wallet')"><div class="icon-box wallet-icon">ğŸŸï¸</div><span class="icon-label">CÃ¼zdan</span></div>
                <div class="app-icon" onclick="openApp('food')"><div class="icon-box food-icon-bg">ğŸ”</div><span class="icon-label">AÅŸk MutfaÄŸÄ±</span></div>
            </div>
            <div class="dock">
                <div class="app-icon" onclick="openApp('phone')"><div class="icon-box" style="background:#4CD964; font-size:24px;">ğŸ“</div></div>
                <div class="app-icon" onclick="openApp('mail')"><div class="icon-box" style="background:#5AC8FA; font-size:24px;">ğŸ“§</div></div>
                <div class="app-icon" onclick="openApp('messages')"><div class="icon-box" style="background:#fff; color:black; font-size:24px;">ğŸ’¬</div></div>
                <div class="app-icon" onclick="openApp('heart')"><div class="icon-box" style="background:#FF2D55; font-size:24px;">â¤ï¸</div></div>
            </div>
            <div class="home-bar"></div>
        </div>

        <div id="app-notes" class="app-modal">
            <div class="modal-header"><button class="close-btn" onclick="closeApp('notes')">Kapat</button><span id="note-title">Mektup</span><button class="close-btn" onclick="toggleNoteMode()">âœï¸</button></div>
            <div class="modal-content" style="padding:20px;">
                <div id="note-read-mode" class="note-paper" style="background:#fffdf2; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1);"><p><b>CanÄ±m Sevgilim Sumru,</b></p><p>Seninle geÃ§en her an, hayatÄ±mÄ±n en gÃ¼zel gÃ¼ncellemesi gibi... ğŸ˜Š</p><p>Atapark'ta baÅŸlayan bu hikaye, ÅŸimdi telefonunun ekranÄ±nda ama en Ã¶nemlisi kalbimin tam merkezinde.</p><p>YukarÄ±daki kaleme basÄ±p sen de bana cevap yazabilirsin.</p><p align="right"><b>- Kocan</b></p></div>
                <div id="note-write-mode" style="display:none; height:100%;"><div class="note-paper" style="background:#fffdf2; padding:20px; border-radius:10px; height:100%;"><p style="color:#888; font-size:14px;">Kocana Cevap Yaz:</p><textarea id="reply-text" class="note-textarea" placeholder="Buraya yazabilirsin sevgilim..."></textarea><button class="whatsapp-btn" onclick="sendWhatsapp()"><span>WhatsApp ile GÃ¶nder</span><svg width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg></button></div></div>
            </div>
        </div>

        <div id="app-weather" class="app-modal">
            <div class="modal-header"><span>AÅŸk Durumu</span><button class="close-btn" onclick="closeApp('weather')">Kapat</button></div>
            <div class="modal-content">
                <div class="weather-main">
                    <div class="weather-location">ğŸ“ Kalbim</div>
                    <div class="weather-icon-large" id="sun-icon">â˜€ï¸</div>
                    <div class="weather-temp">100%<span style="font-size:30px">â¤ï¸</span></div>
                    <div class="weather-desc">GÃ¼neÅŸli ve AÅŸk Dolu</div>
                </div>
                <div class="forecast-list">
                    <div class="forecast-item"><span>BugÃ¼n</span><span>ğŸ’‹ SaÄŸanak Ã–pÃ¼cÃ¼k</span></div>
                    <div class="forecast-item"><span>YarÄ±n</span><span>ğŸ”¥ SÄ±cak SarÄ±lmalar</span></div>
                    <div class="forecast-item"><span>Ã‡arÅŸamba</span><span>ğŸ’– Kalp Ã‡arpÄ±ntÄ±sÄ±</span></div>
                    <div class="forecast-item"><span>PerÅŸembe</span><span>ğŸ¥° Sonsuz Mutluluk</span></div>
                    <div class="forecast-item"><span>Cuma</span><span>ğŸ’ Gelecek Hayalleri</span></div>
                    <div class="forecast-item"><span>Cumartesi</span><span>ğŸ¿ Film Gecesi</span></div>
                    <div class="forecast-item"><span>Pazar</span><span>ğŸ–ï¸ Birlikte Tatil</span></div>
                    <div class="forecast-item"><span>Haftaya</span><span>ğŸ’Œ SÃ¼rprizler</span></div>
                    <div class="forecast-item"><span>Sonsuza Dek</span><span>ğŸ‘« El Ele</span></div>
                </div>
                <div id="love-explosion-overlay"><h1>AÅK PATLAMASI! ğŸ’¥â¤ï¸</h1></div>
            </div>
        </div>

        <div id="app-wheel" class="app-modal">
            <div class="modal-header"><span>AÅŸk Ã‡arkÄ±</span><button class="close-btn" onclick="closeApp('wheel')">Kapat</button></div>
            <div class="modal-content">
                <h2 class="wheel-title">BugÃ¼n Ne YapalÄ±m?</h2>
                <div class="wheel-container"><div class="wheel-arrow"></div><div class="wheel-outer" id="wheel"><div class="wheel-inner"><div class="wheel-labels"><span style="--i:0;">ğŸ’†â€â™‚ï¸</span><span style="--i:1;">ğŸ“œ</span><span style="--i:2;">ğŸ¬</span><span style="--i:3;">ğŸ§¼</span><span style="--i:4;">â˜•</span><span style="--i:5;">ğŸ’‹</span><span style="--i:6;">ğŸ</span><span style="--i:7;">ğŸ«‚</span><span style="--i:8;">ğŸ¦¶</span><span style="--i:9;">â¤ï¸</span></div></div></div><div class="wheel-center">â¤ï¸</div></div>
                <div style="text-align:center;"><button class="spin-btn" id="spin-btn" onclick="spinWheel()">Ã‡EVÄ°R</button></div>
                <div id="wheel-result-overlay"><div class="result-box"><span class="result-icon" id="res-icon">ğŸ‰</span><h2 class="result-text" id="res-text">SonuÃ§</h2><button class="result-close-btn" id="res-btn" onclick="closeResultPopup()">Tamam AÅŸko ğŸ’–</button></div></div>
            </div>
        </div>

        <div id="app-settings" class="app-modal">
            <div class="modal-header"><span>Ayarlar</span><button class="close-btn" onclick="closeApp('settings')">Bitti</button></div>
            <div class="modal-content">
                <div class="profile-section">
                    <img src="foto1.png" class="profile-pic">
                    <div class="profile-info"><h3>Sumru & Kocan</h3><p>AÅŸk ID, iCloud ve Bizim Bulut</p></div>
                </div>
                <div class="settings-group">
                    <div class="setting-item" onclick="toggleAirplaneMode()"><div class="setting-icon" style="background: #F09A37;">âœˆï¸</div><div class="setting-label">UÃ§ak Modu</div><div class="setting-value"><input type="checkbox" class="toggle-switch" id="airplane-switch"></div></div>
                    <div class="setting-item" onclick="alert('ğŸ“¶ Sinyal GÃ¼cÃ¼: %100 (Kalbine tam Ã§ekiyor)')"><div class="setting-icon" style="background: #007AFF;">ğŸ“¶</div><div class="setting-label">Wi-Fi</div><div class="setting-value">Kalbine Tam Ã‡ekiyor</div></div>
                    <div class="setting-item" onclick="alert('ğŸ§ Kocan BaÄŸlÄ±')"><div class="setting-icon" style="background: #007AFF;">Bluetooth</div><div class="setting-label">Bluetooth</div><div class="setting-value">Sadece Kocanla EÅŸleÅŸti</div></div>
                    <div class="setting-item" onclick="alert('ğŸ”¥ Dikkat! Yanabilirsin...')"><div class="setting-icon" style="background: #34C759;">ğŸŒ</div><div class="setting-label">KiÅŸisel EriÅŸim NoktasÄ±</div><div class="setting-value">SÄ±caklÄ±k: Ã‡ok YÃ¼ksek</div></div>
                    <div class="setting-item" onclick="alert('ğŸ” BaÄŸlantÄ±mÄ±z ÅŸifreli ve koparÄ±lamaz!')"><div class="setting-icon" style="background: #007AFF;">ğŸ›¡ï¸</div><div class="setting-label">VPN</div><div class="setting-value">Virtual Passion Network</div></div>
                </div>
                <div class="settings-group">
                    <div class="setting-item" onclick="alert('ğŸ”” Senden gelen her ÅŸey anÄ±nda ekranda!')"><div class="setting-icon" style="background: #FF3B30;">ğŸ””</div><div class="setting-label">Bildirimler</div><div class="setting-value">Senden Gelince Hep AÃ§Ä±k</div></div>
                    <div class="setting-item"><div class="setting-icon" style="background: #FF2D55;">ğŸ”Š</div><div class="setting-label">Ses ve DokunuÅŸ</div><div class="setting-value">Kalp AtÄ±ÅŸÄ±na AyarlÄ±</div></div>
                    <div class="setting-item" onclick="alert('ğŸŒ™ Åu an sadece sen ve ben varÄ±z.')"><div class="setting-icon" style="background: #5856D6;">ğŸŒ™</div><div class="setting-label">Odak</div><div class="setting-value">Sadece Sen</div></div>
                </div>
                <div class="settings-group">
                    <div class="setting-item" onclick="alert('âœ¨ Senin Ä±ÅŸÄ±ÄŸÄ±n bana yetiyor sevgilim, ekranÄ± kÄ±smaya gerek yok.')"><div class="setting-icon" style="background: #007AFF;">ğŸ’¡</div><div class="setting-label">Ekran ve ParlaklÄ±k</div><div class="setting-value">IÅŸÄ±ÄŸÄ±n Yetiyor</div></div>
                    <div class="setting-item"><div class="setting-icon" style="background: #34C759;">ğŸ”‹</div><div class="setting-label">Pil</div><div class="setting-value">Seninle %100</div></div>
                </div>
            </div>
        </div>

        <div id="app-wallet" class="app-modal">
            <div class="modal-header"><span>CÃ¼zdan</span><button class="close-btn" onclick="closeApp('wallet')">Bitti</button></div>
            <div class="modal-content">
                <div class="wallet-title">KuponlarÄ±m</div>
                <div class="coupon-card coupon-1" onclick="openCoupon(0)"><div class="coupon-header"><div><div class="coupon-title">Masaj Keyfi</div><small>30 Dakika Kesintisiz</small></div><div class="coupon-icon">ğŸ’†â€â™€ï¸</div></div><div class="coupon-footer"><span>Kocan A.Å.</span><span>SKT: SONSUZ</span></div></div>
                <div class="coupon-card coupon-2" onclick="openCoupon(1)"><div class="coupon-header"><div><div class="coupon-title">HaklÄ±sÄ±n KartÄ±</div><small>TartÄ±ÅŸmada 1 Kere HaklÄ± Ã‡Ä±k</small></div><div class="coupon-icon">âœ…</div></div><div class="coupon-footer"><span>TartÄ±ÅŸma BakanlÄ±ÄŸÄ±</span><span>TEK KULLANIMLIK</span></div></div>
                <div class="coupon-card coupon-3" onclick="openCoupon(2)"><div class="coupon-header"><div><div class="coupon-title">Yemek Ismarla</div><div style="font-size:12px;">Ä°stediÄŸin Yerde, Ä°stediÄŸin Zaman</div></div><div class="coupon-icon">ğŸ½ï¸</div></div><div class="coupon-footer"><span>Kocan MutfaÄŸÄ±</span><span>HER ZAMAN</span></div></div>
                <div class="coupon-card coupon-4" onclick="openCoupon(3)"><div class="coupon-header"><div><div class="coupon-title">SÄ±nÄ±rsÄ±z Ã–pÃ¼cÃ¼k</div><small>Yanak, Dudak Fark Etmez</small></div><div class="coupon-icon">ğŸ’‹</div></div><div class="coupon-footer"><span>Sevgi BankasÄ±</span><span>LÄ°MÄ°TSÄ°Z</span></div></div>
                <div class="coupon-card coupon-5" onclick="openCoupon(4)"><div class="coupon-header"><div><div class="coupon-title">Yatakta KahvaltÄ±</div><small>Pazar SabahÄ± Ã–zel Servis</small></div><div class="coupon-icon">ğŸ¥</div></div><div class="coupon-footer"><span>Kocan Cafe</span><span>HAFTA SONU</span></div></div>
                <div class="coupon-card coupon-6" onclick="openCoupon(5)"><div class="coupon-header"><div><div class="coupon-title">Sinema Gecesi</div><small>Film ve MÄ±sÄ±r Benden!</small></div><div class="coupon-icon">ğŸ¿</div></div><div class="coupon-footer"><span>Kocan SinemalarÄ±</span><span>HER AKÅAM</span></div></div>
                <div class="coupon-card coupon-7" onclick="openCoupon(6)"><div class="coupon-header"><div><div class="coupon-title">Teknoloji Diyeti</div><small>Sadece Biz OlacaÄŸÄ±z (1 Saat)</small></div><div class="coupon-icon">ğŸ“µ</div></div><div class="coupon-footer"><span>Detoks Merkezi</span><span>Ä°HTÄ°YAÃ‡ HALÄ°NDE</span></div></div>
                <div class="coupon-card coupon-8" onclick="openCoupon(7)"><div class="coupon-header"><div><div class="coupon-title">SÃ¼rpriz Randevu</div><small>Plan Benden, HazÄ±rlanmak Senden</small></div><div class="coupon-icon">ğŸ¥‚</div></div><div class="coupon-footer"><span>Kocan Events</span><span>Ã–ZEL GÃœN</span></div></div>
                
                <div class="coupon-card coupon-9" onclick="openCoupon(8)"><div class="coupon-header"><div><div class="coupon-title">AlÄ±ÅŸveriÅŸ GÃ¼nÃ¼</div><small>BugÃ¼n kartlar benden!</small></div><div class="coupon-icon">ğŸ›ï¸</div></div><div class="coupon-footer"><span>Kocan Bank</span><span>LIMITSIZ</span></div></div>
                <div class="coupon-card coupon-10" onclick="openCoupon(9)"><div class="coupon-header"><div><div class="coupon-title">Sessizlik HakkÄ±</div><small>HiÃ§ konuÅŸmadan sarÄ±lma hakkÄ±</small></div><div class="coupon-icon">ğŸ¤«</div></div><div class="coupon-footer"><span>Huzur A.Å.</span><span>HER AN</span></div></div>
                <div class="coupon-card coupon-11" onclick="openCoupon(10)"><div class="coupon-header"><div><div class="coupon-title">Oyun Gecesi</div><small>Beraber oyun oynuyoruz!</small></div><div class="coupon-icon">ğŸ®</div></div><div class="coupon-footer"><span>Gamer Love</span><span>EÄLENCE</span></div></div>
                <div class="coupon-card coupon-12" onclick="openCoupon(11)"><div class="coupon-header"><div><div class="coupon-title">Ã–zel ÅofÃ¶rlÃ¼k</div><small>Nereye dersen oraya sÃ¼rÃ¼yorum</small></div><div class="coupon-icon">ğŸš—</div></div><div class="coupon-footer"><span>Kocan Taksi</span><span>7/24</span></div></div>

                
                <div id="coupon-detail-overlay">
                    <div class="coupon-detail-card">
                        <div class="detail-header" id="detail-bg">ğŸŸï¸</div>
                        <div class="detail-body">
                            <div class="detail-title" id="detail-title">BaÅŸlÄ±k</div>
                            <div class="detail-desc" id="detail-desc">AÃ§Ä±klama</div>
                            <button class="use-btn" onclick="useCoupon()">Åimdi Kullan</button>
                            <button class="close-detail-btn" onclick="closeCoupon()">VazgeÃ§</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="app-food" class="app-modal">
            <div class="modal-header"><span>AÅŸk MutfaÄŸÄ±</span><button class="close-btn" onclick="closeApp('food')">Kapat</button></div>
            
            <div class="modal-content">
                <div class="food-list">
                    
                    <div class="food-category">GerÃ§ek Lezzetler ğŸ˜‹</div>

                    <div class="food-item" id="item-7">
                        <div class="f-img">ğŸ‹</div>
                        <div class="f-info"><span class="f-name">Ã‡iÄŸkÃ¶fte DÃ¼rÃ¼m</span><span class="f-desc">Bol limonlu, acÄ±lÄ±, nar ekÅŸili.</span><span class="f-price">Ayran Senden</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(7, -1)">-</button><span class="qty-num" id="qty-7">0</span><button class="btn-qty btn-plus" onclick="updateFood(7, 1)">+</button></div>
                    </div>

                    <div class="food-item" id="item-8">
                        <div class="f-img">ğŸŒ¯</div>
                        <div class="f-info"><span class="f-name">Hatay DÃ¶ner</span><span class="f-desc">Bol soslu tavuk dÃ¶ner.</span><span class="f-price">Bir IsÄ±rÄ±k</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(8, -1)">-</button><span class="qty-num" id="qty-8">0</span><button class="btn-qty btn-plus" onclick="updateFood(8, 1)">+</button></div>
                    </div>

                    <div class="food-item" id="item-9">
                        <div class="f-img">ğŸ¥™</div>
                        <div class="f-info"><span class="f-name">Ã‡Ä±tÄ±r Lahmacun</span><span class="f-desc">SumaklÄ± soÄŸan ve maydanoz ile.</span><span class="f-price">Salata Benden</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(9, -1)">-</button><span class="qty-num" id="qty-9">0</span><button class="btn-qty btn-plus" onclick="updateFood(9, 1)">+</button></div>
                    </div>

                     <div class="food-category">TatlÄ± Krizleri ğŸ°</div>

                    <div class="food-item" id="item-10">
                        <div class="f-img">ğŸ®</div>
                        <div class="f-info"><span class="f-name">SÄ±cak Sufle</span><span class="f-desc">AkÄ±ÅŸkan Ã§ikolatalÄ±...</span><span class="f-price">Kahve YanÄ±na</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(10, -1)">-</button><span class="qty-num" id="qty-10">0</span><button class="btn-qty btn-plus" onclick="updateFood(10, 1)">+</button></div>
                    </div>

                    <div class="food-category">Kocan Spesiyalleri â¤ï¸</div>
                    
                    <div class="food-item" id="item-1">
                        <div class="f-img">ğŸ”</div>
                        <div class="f-info"><span class="f-name">Kocan Burger</span><span class="f-desc">Ã–zel soslu, bol sevgi iÃ§eren ev yapÄ±mÄ± burger.</span><span class="f-price">1 Ã–pÃ¼cÃ¼k</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(1, -1)">-</button><span class="qty-num" id="qty-1">0</span><button class="btn-qty btn-plus" onclick="updateFood(1, 1)">+</button></div>
                    </div>

                    <div class="food-item" id="item-2">
                        <div class="f-img">ğŸ</div>
                        <div class="f-info"><span class="f-name">Romantik Makarna</span><span class="f-desc">Ä°talyan usulÃ¼, mum Ä±ÅŸÄ±ÄŸÄ± eÅŸliÄŸinde servis.</span><span class="f-price">SÄ±msÄ±kÄ± SarÄ±lma</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(2, -1)">-</button><span class="qty-num" id="qty-2">0</span><button class="btn-qty btn-plus" onclick="updateFood(2, 1)">+</button></div>
                    </div>

                    <div class="food-item" id="item-3">
                        <div class="f-img">ğŸ¥</div>
                        <div class="f-info"><span class="f-name">AÅŸk Krebi</span><span class="f-desc">Ã‡ikolatalÄ±, meyveli pazar kahvaltÄ±sÄ± efsanesi.</span><span class="f-price">GÃ¼lÃ¼mseme</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(3, -1)">-</button><span class="qty-num" id="qty-3">0</span><button class="btn-qty btn-plus" onclick="updateFood(3, 1)">+</button></div>
                    </div>

                    <div class="food-item" id="item-4">
                        <div class="f-img">â˜•</div>
                        <div class="f-info"><span class="f-name">Kocan Kahvesi</span><span class="f-desc">Yorgunluk alÄ±r, muhabbet aÃ§ar.</span><span class="f-price">5 Dk Masaj</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(4, -1)">-</button><span class="qty-num" id="qty-4">0</span><button class="btn-qty btn-plus" onclick="updateFood(4, 1)">+</button></div>
                    </div>
                    
                    <div class="food-item" id="item-6">
                        <div class="f-img">ğŸ«</div>
                        <div class="f-info"><span class="f-name">Ã‡ikolata Krizi</span><span class="f-desc">Acil durumlar iÃ§in Ã¶zel stoktan.</span><span class="f-price">1 Ã–pÃ¼cÃ¼k</span></div>
                        <div class="f-actions"><button class="btn-qty btn-minus" onclick="updateFood(6, -1)">-</button><span class="qty-num" id="qty-6">0</span><button class="btn-qty btn-plus" onclick="updateFood(6, 1)">+</button></div>
                    </div>

                </div>
            </div> <div class="cart-bar" id="cart-bar" onclick="sendFoodOrder()">
                <div class="cart-total"><span style="font-size:12px; opacity:0.7;">Toplam Tutar</span><span id="cart-total-txt">0 Ã–pÃ¼cÃ¼k</span></div>
                <div class="cart-btn-txt">Sepeti Onayla ></div>
            </div>

        </div>

                <div class="cart-bar" id="cart-bar" onclick="sendFoodOrder()">
                    <div class="cart-total"><span style="font-size:12px; opacity:0.7;">Toplam Tutar</span><span id="cart-total-txt">0 Ã–pÃ¼cÃ¼k</span></div>
                    <div class="cart-btn-txt">Sepeti Onayla ></div>
                </div>
            </div>
        </div>

        <div id="app-maps" class="app-modal">
            <div class="modal-header"><span>Konum</span><button class="close-btn" onclick="closeApp('maps')">Kapat</button></div>
            <div class="modal-content" style="padding:20px;">
                <div class="map-container-fixed"><iframe class="map-frame" src="https://maps.google.com/maps?q=UÅŸak+Atapark&t=&z=15&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div>
                <h3 style="margin-top:20px;">ğŸ“ Bizim BaÅŸlangÄ±cÄ±mÄ±z</h3><p style="color:#555;">UÅŸak Atapark'ta hikayemiz baÅŸladÄ±...</p>
                <div style="background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%); padding:20px; border-radius:15px; text-align:center; color:white; margin-top:20px; margin-bottom:50px;"><h4>Birlikte GeÃ§en SÃ¼re</h4><div style="font-size:32px; font-weight:bold; margin:5px 0;" id="days-counter">0 GÃ¼n</div><div style="font-size:12px; opacity:0.8;">24.10.2022'den beri â¤ï¸</div></div>
            </div>
        </div>

        <div id="app-music" class="app-modal">
            <div class="modal-header"><span>MÃ¼zik</span><button class="close-btn" onclick="closeApp('music')" style="color:white;">Kapat</button></div>
            <div class="music-bg"></div>
            <div class="music-ui">
                <div class="album-art"></div><div class="song-info"><div class="song-title">AÅŸk Olsun</div><div class="song-artist">Sen ve Ben</div></div>
                <div class="progress-bar-container"><div class="progress-line"><div class="progress-fill"></div></div><div class="time-info"><span>1:24</span><span>3:45</span></div></div>
                <div class="controls"><div class="ctrl-btn">â®ï¸</div><div class="ctrl-btn play-pause-btn" onclick="toggleMusic()" id="play-btn">â–¶ï¸</div><div class="ctrl-btn">â­ï¸</div></div>
                <div style="margin-top:20px; display:flex; gap:15px; justify-content:center; opacity:0.6;"><span>ğŸ”ˆ</span><div style="width:150px; height:4px; background:#555; border-radius:2px; margin-top:10px;"><div style="width:70%; height:100%; background:white;"></div></div><span>ğŸ”Š</span></div>
            </div>
        </div>

        <div id="app-messages" class="app-modal"><div class="modal-header"><button class="close-btn" onclick="closeApp('messages')">â® Geri</button><span>Kocan â¤ï¸</span><div style="width:30px"></div></div>
            <div class="modal-content">
                <div class="chat-wrapper">
                    <div class="chat-container" id="chat-list"></div>
                    <div class="msg-typing" id="typing-indicator"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
                    <div class="chat-input-area"><input type="text" class="chat-input" id="chat-input" placeholder="iMessage"><button class="chat-send-btn" onclick="sendMessage()">â¬†ï¸</button></div>
                </div>
            </div>
        </div>
        
        <div id="app-mail" class="app-modal">
            <div class="modal-header"><button class="close-btn" onclick="closeEmailRead()" id="mail-back-btn" style="opacity:0; pointer-events:none;">â® Gelen</button><span id="mail-header-title">Gelen Kutusu</span><button class="close-btn" onclick="closeApp('mail')">Bitti</button></div>
            <div class="modal-content" style="background:white;">
                <div id="mail-list-view"><div style="padding:10px 20px; font-size:28px; font-weight:700;">Gelenler</div><div class="email-list" id="email-list"></div></div>
                <div id="mail-read-view"><h2 class="read-subject" id="read-subject">Konu</h2><div class="read-meta"><span>GÃ¶nderen: <b>Kocan â¤ï¸</b></span><span id="read-time">Zaman</span></div><div class="read-body" id="read-body">Ä°Ã§erik...</div><div class="read-actions" onclick="alert('ğŸ’Œ MesajÄ±n iletildi: Seni Ã§ok seviyorum!')">â†©ï¸ YanÄ±tla</div></div>
            </div>
        </div>
        
        <div id="app-phone" class="app-modal">
            <div class="modal-header"><span>Son Aramalar</span><button class="close-btn" onclick="closeApp('phone')">Kapat</button></div>
            <div class="modal-content"><div class="call-list" id="call-list"></div></div>
            <div id="calling-overlay"><img src="foto1.png" class="caller-img"><div class="call-status" id="call-status">Kocan â¤ï¸ aranÄ±yor...</div><div class="call-name">Kocan â¤ï¸</div><div class="call-actions"><div class="action-btn">ğŸ”‡</div><div class="action-btn">âŒ¨ï¸</div><div class="action-btn">ğŸ”Š</div><div class="action-btn">â•</div><div class="action-btn hangup-btn" onclick="endFakeCall()">ğŸ“</div></div></div>
        </div>
        
        <div id="app-photos" class="app-modal">
            <div class="modal-header"><span>AlbÃ¼m</span><button class="close-btn" onclick="closeApp('photos')">Kapat</button></div>
            <div class="modal-content">
                <div class="photo-gallery">
                    <img src="foto1.png" class="gallery-photo photo-tall">
                    <img src="foto2.png" class="gallery-photo">
                    <img src="foto3.png" class="gallery-photo">
                    <img src="foto4.png" class="gallery-photo photo-wide">
                    <img src="foto5.png" class="gallery-photo">
                    <img src="foto6.png" class="gallery-photo photo-tall">
                </div>
                <p style="text-align:center; color:#888; margin:20px 0 10px; font-size:14px;">En gÃ¼zel anÄ±larÄ±mÄ±z... â¤ï¸</p>
                <div class="surprise-box" onclick="revealSurprise(this)" style="margin: 0 20px 30px;">
                    <div class="initial-text">ğŸ SÃ¼rpriz Ä°Ã§in TÄ±kla</div>
                    <div class="surprise-content">Seni DÃ¼nyalar Kadar Seviyorum! â¤ï¸<br>Ä°yi ki Benimsin! ğŸ‰</div>
                </div>
            </div>
        </div>

        <div id="app-heart" class="app-modal">
            <button class="close-btn" onclick="closeApp('heart')" style="position:absolute; top:50px; right:20px; color:rgba(255,255,255,0.7); z-index:20;">âœ•</button>
            <div id="rain-container" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1;"></div>
            <div class="click-counter">â¤ï¸ <span id="heart-count">0</span></div>
            <div class="heart-wrapper"><div class="main-heart idle" id="interaction-heart">â¤ï¸</div></div>
            <div id="secret-layer"><h1 style="color:white;">SUMROÅÅ<br>AÅIÄIM<br>SANA! â¤ï¸</h1><div style="font-size:14px; margin-top:30px; opacity:0.8; color:white; border:1px solid white; padding:5px 15px; border-radius:20px;">(Kapatmak iÃ§in tÄ±kla)</div></div>
            <div id="counter-layer"><div style="font-size:100px;">ğŸ’</div><h1 style="color:white; margin-top:20px; padding:0 20px;">24'Ã¼nde seni sevdim,<br>daha da bÄ±rakmam!</h1><div style="font-size:14px; margin-top:30px; opacity:0.8; color:white; border:1px solid white; padding:5px 15px; border-radius:20px;" onclick="closeCounterLayer()">Seni Seviyorum</div></div>
        </div>

    </div>

    <script>
        function updateTime(){const n=new Date();document.getElementById('clock').innerText=String(n.getHours()).padStart(2,'0')+':'+String(n.getMinutes()).padStart(2,'0');document.getElementById('date').innerText=n.toLocaleDateString('tr-TR',{weekday:'long',day:'numeric',month:'long'});const s=new Date("2022-10-24");const d=Math.ceil(Math.abs(n-s)/(1000*60*60*24));document.getElementById('days-counter').innerText=d+" GÃ¼ndÃ¼r";}setInterval(updateTime,1000);updateTime();
        function unlockPhone(){document.getElementById('lock-screen').style.transform='translateY(-100%)';document.getElementById('home-screen').style.transform='translateY(0)';}
        function openApp(id){document.getElementById('app-'+id).classList.add('active');if(id==='messages')loadMessages();if(id==='mail')loadEmails();if(id==='phone')loadCalls();if(id==='heart')resetHeartApp();}
        function closeApp(id){document.getElementById('app-'+id).classList.remove('active');if(id==='heart')stopRain();}
        function toggleNoteMode(){const r=document.getElementById('note-read-mode');const w=document.getElementById('note-write-mode');if(r.style.display!=='none'){r.style.display='none';w.style.display='block';document.getElementById('note-title').innerText='Cevap Yaz';}else{r.style.display='block';w.style.display='none';document.getElementById('note-title').innerText='Mektup';}}
        function sendWhatsapp(){var m=document.getElementById('reply-text').value;if(m.trim()===""){alert("LÃ¼tfen Ã¶nce gÃ¼zel bir ÅŸeyler yaz :)");return;}window.location.href="https://wa.me/905315581447?text="+encodeURIComponent(m);}
        var audio=document.getElementById('bg-music');function toggleMusic(){if(audio.paused){audio.play();document.getElementById('play-btn').innerText='â¸ï¸';}else{audio.pause();document.getElementById('play-btn').innerText='â–¶ï¸';}}

        // KALP MANTIÄI
        const heartEl = document.getElementById('interaction-heart');
        const secretLayer = document.getElementById('secret-layer');
        const counterLayer = document.getElementById('counter-layer');
        const countSpan = document.getElementById('heart-count');
        const rainContainer = document.getElementById('rain-container');
        let pressTimer, rainInterval, heartClickCount = 0, isPressing = false;

        function resetHeartApp() { heartEl.classList.remove('growing', 'tap'); heartEl.classList.add('idle'); secretLayer.classList.remove('visible'); counterLayer.classList.remove('visible'); stopRain(); heartClickCount = 0; countSpan.innerText = heartClickCount; isPressing = false; }
        function startAction(e) { e.preventDefault(); isPressing = true; startRain(); heartEl.classList.remove('idle'); heartEl.classList.add('tap'); pressTimer = setTimeout(() => { if(isPressing) { heartEl.classList.remove('tap'); heartEl.classList.add('growing'); setTimeout(() => { if(isPressing) { secretLayer.classList.add('visible'); heartEl.classList.remove('growing'); stopRain(); } }, 3000); } }, 250); }
        function endAction(e) { isPressing = false; clearTimeout(pressTimer); if (!heartEl.classList.contains('growing') && !secretLayer.classList.contains('visible')) { heartClickCount++; countSpan.innerText = heartClickCount; if(heartClickCount === 24) counterLayer.classList.add('visible'); } heartEl.classList.remove('growing', 'tap'); heartEl.classList.add('idle'); setTimeout(stopRain, 1000); }
        heartEl.addEventListener('mousedown', startAction); heartEl.addEventListener('touchstart', startAction); heartEl.addEventListener('mouseup', endAction); heartEl.addEventListener('touchend', endAction); heartEl.addEventListener('mouseleave', endAction);
        secretLayer.addEventListener('click', () => secretLayer.classList.remove('visible'));
        function closeCounterLayer() { counterLayer.classList.remove('visible'); }
        function startRain() { if(!rainInterval) rainInterval = setInterval(createFallingHeart, 100); }
        function stopRain() { clearInterval(rainInterval); rainInterval = null; }
        function createFallingHeart() { const h = document.createElement('div'); h.classList.add('falling-heart'); h.innerText = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—'][Math.floor(Math.random() * 4)]; h.style.left = Math.random() * 100 + '%'; h.style.fontSize = (Math.random() * 20 + 15) + 'px'; h.style.animationDuration = (Math.random() * 3 + 2) + 's'; rainContainer.appendChild(h); setTimeout(() => h.remove(), 5000); }

        // SÃœRPRÄ°Z KONFETÄ° PATLAMASI
        function revealSurprise(el) { if(el.classList.contains('revealed')) return; el.classList.add('revealed'); const initialText = el.querySelector('.initial-text'); const hiddenContent = el.querySelector('.surprise-content'); initialText.style.opacity = '0'; setTimeout(() => { initialText.style.display = 'none'; hiddenContent.style.display = 'block'; void hiddenContent.offsetWidth; hiddenContent.style.opacity = '1'; hiddenContent.style.transform = 'translateY(0)'; }, 300); const photoModal = document.getElementById('app-photos'); for(let i=0; i<150; i++) { const c = document.createElement('div'); c.classList.add('confetti'); c.innerText = ['â¤ï¸', 'âœ¨', 'ğŸ‰', 'ğŸŒ¸', 'ğŸ’–'][Math.floor(Math.random() * 5)]; c.style.left = (50 + (Math.random() - 0.5) * 20) + '%'; c.style.top = '70%'; c.style.fontSize = (Math.random() * 20 + 10) + 'px'; c.style.setProperty('--x', (Math.random() - 0.5) * 300 + 'px'); c.style.setProperty('--y', (Math.random() - 1) * 400 + 'px'); c.style.setProperty('--r', (Math.random() - 0.5) * 720 + 'deg'); photoModal.appendChild(c); setTimeout(() => c.remove(), 2000); } }

        // TELEFON
        let callTimer; function startFakeCall() { document.getElementById('calling-overlay').style.display = 'flex'; setTimeout(() => { let sec = 0; const status = document.getElementById('call-status'); callTimer = setInterval(() => { sec++; const min = Math.floor(sec / 60).toString().padStart(2,'0'); const s = (sec % 60).toString().padStart(2,'0'); status.innerText = `${min}:${s}`; }, 1000); }, 2000); }
        function endFakeCall() { document.getElementById('calling-overlay').style.display = 'none'; clearInterval(callTimer); document.getElementById('call-status').innerText = "Kocan â¤ï¸ aranÄ±yor..."; }

        // MESAJLAÅMA
        const replies = ["Seni Ã§ok seviyorum, her ÅŸeyim â¤ï¸", "Ã–mrÃ¼m benim, iyi ki varsÄ±n ğŸ˜", "Kalbimin tek sahibisin â¤ï¸", "Sen harikasÄ±n!", "Sana bayÄ±lÄ±yorum kadÄ±nÄ±m â¤ï¸", "MesajÄ±nÄ± gÃ¶rÃ¼nce gÃ¼nÃ¼m aydÄ±nlandÄ± â˜€ï¸", "YanÄ±nda olmayÄ± Ã§ok isterdim ÅŸu an.", "Seni dÃ¼ÅŸÃ¼nmeden edemiyorum...", "Benim gÃ¼zel sevgilim ğŸ’–", "Seninle geÃ§en her an Ã§ok deÄŸerli.", "DÃ¼nyanÄ±n en ÅŸanslÄ± adamÄ±yÄ±m.", "GÃ¶zlerin aklÄ±ma geldi ÅŸimdi... ğŸ˜", "Seni kocaman Ã¶pÃ¼yorum! ğŸ˜˜", "Ben de seni Ã§ok Ã¶zledim...", "Sen benim nefesimsin Sumru.", "Hayallerimin baÅŸrolÃ¼sÃ¼n â¤ï¸"];
        let lastReplyIndex = null;
        function loadMessages(){ const c=document.getElementById('chat-list');if(c.innerHTML.trim()!=="")return; const msgs=[{t:"Merhaba gÃ¼zellik ğŸ‘‹",s:"in"},{t:"AkÅŸam Atapark'ta buluÅŸalÄ±m mÄ±?",s:"in"},{t:"Seni seviyorum Sumru!",s:"in"}]; msgs.forEach(m=>{c.innerHTML+=`<div class="msg-bubble ${m.s==='in'?'msg-received':'msg-sent'}">${m.t}</div>`;}); }
        function sendMessage() { const input = document.getElementById('chat-input'); const text = input.value; if(text.trim() === "") return; const container = document.getElementById('chat-list'); container.innerHTML += `<div class="msg-bubble msg-sent">${text}</div>`; input.value = ""; container.scrollTop = container.scrollHeight; setTimeout(() => { const typing = document.getElementById('typing-indicator'); typing.style.display = 'block'; container.scrollTop = container.scrollHeight; setTimeout(() => { typing.style.display = 'none'; let newIndex; do { newIndex = Math.floor(Math.random() * replies.length); } while (newIndex === lastReplyIndex && replies.length > 1); lastReplyIndex = newIndex; const randomReply = replies[newIndex]; container.innerHTML += `<div class="msg-bubble msg-received">${randomReply}</div>`; container.scrollTop = container.scrollHeight; }, 2000); }, 500); }

        // MAIL & CALLS
        const mailData = [{s:"SÃ¼rpriz HazÄ±r! ğŸ", p:"AkÅŸama gÃ¶zlerini kapatmanÄ± isteyeceÄŸim...", t:"14:20", b:"CanÄ±m Sevgilim,\n\nBu akÅŸam iÃ§in kÃ¼Ã§Ã¼k ama Ã§ok seveceÄŸini dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼m bir sÃ¼rpriz hazÄ±rladÄ±m. \n\nSeni Ã§ok seviyorum.\n-Kocan"},{s:"SonsuzluÄŸa...", p:"Seninle baÅŸladÄ±ÄŸÄ±mÄ±z bu yolculukta...", t:"10:30", b:"HayatÄ±mÄ±n anlamÄ±,\n\nSeninle her gÃ¼n yeni bir macera. SonsuzluÄŸa kadar el ele yÃ¼rÃ¼mek dileÄŸiyle."},{s:"UÃ§ak Biletleri: Roma", p:"Hayallerimizi gerÃ§ekleÅŸtirmeye bir adÄ±m daha...", t:"09:15", b:"AÅŸkÄ±m,\n\nRoma biletlerine baktÄ±m..."},{s:"Tatil PlanlarÄ± ğŸ–ï¸", p:"Bu yaz nereye gitmek istersin?", t:"DÃ¼n", b:"Yaz yaklaÅŸÄ±yor gÃ¼zelim..."},{s:"Netflix Åifresi", p:"Yeni ÅŸifreyi unuttun mu yoksa? :)", t:"DÃ¼n", b:"Åifre: SumruCokGuzel123"},{s:"Sabah Kahvesi",p:"UyandÄ±n mÄ± gÃ¼zellik?",t:"Paz",b:"GÃ¼naydÄ±n aÅŸkÄ±m, kahveni yaptÄ±m seni bekliyorum."},{s:"RÃ¼yamda Seni GÃ¶rdÃ¼m",p:"O kadar gÃ¼zeldin ki...",t:"Paz",b:"Hala etkisindeyim, rÃ¼yamda bile yanÄ±mdasÄ±n."},{s:"FotoÄŸraf ArÅŸivi",p:"Eski fotoÄŸraflarÄ± buldum!",t:"Cum",b:"Ä°lk buluÅŸmamÄ±zdaki fotoÄŸrafÄ±mÄ±za bakÄ±p duruyorum."},{s:"Sadece Sen",p:"AklÄ±mdan Ã§Ä±kmÄ±yorsun.",t:"Per",b:"Ä°ÅŸ yerindeyim ama aklÄ±m fikrim sende."},{s:"Fatura HatÄ±rlatmasÄ±",p:"Åaka ÅŸaka, Ã¶pÃ¼cÃ¼k faturasÄ±!",t:"Ã‡ar",b:"Borcunuz: 1000 Ã¶pÃ¼cÃ¼k. Hemen tahsil edilmeli."}];
        function loadEmails(){ const e = document.getElementById('email-list'); if(e.innerHTML.trim()!=="") return; mailData.forEach((m, i) => { e.innerHTML += `<div class="email-item" onclick="openEmail(${i})"><div><b>Kocan â¤ï¸</b><br>${m.s}<br><small style="color:#888;">${m.p}</small></div><small style="color:#888;">${m.t}</small></div>`; }); }
        function openEmail(index) { const m = mailData[index]; document.getElementById('read-subject').innerText = m.s; document.getElementById('read-time').innerText = m.t; document.getElementById('read-body').innerText = m.b; document.getElementById('mail-list-view').style.display = 'none'; document.getElementById('mail-read-view').style.display = 'block'; document.getElementById('mail-back-btn').style.opacity = '1'; document.getElementById('mail-back-btn').style.pointerEvents = 'auto'; }
        function closeEmailRead() { document.getElementById('mail-read-view').style.display = 'none'; document.getElementById('mail-list-view').style.display = 'block'; document.getElementById('mail-back-btn').style.opacity = '0'; document.getElementById('mail-back-btn').style.pointerEvents = 'none'; }
        
        function loadCalls(){const p=document.getElementById('call-list');if(p.innerHTML.trim()!=="")return;
            const calls=[{t:"missed",c:3,tm:"03:15"},{t:"in",c:0,tm:"00:42"},{t:"out",c:0,tm:"23:15"},{t:"missed",c:1,tm:"20:30"},{t:"in",c:0,tm:"18:45"},{t:"out",c:0,tm:"12:20"},{t:"missed",c:5,tm:"09:00"},{t:"in",c:0,tm:"08:30"},{t:"in",c:0,tm:"DÃ¼n"},{t:"out",c:0,tm:"DÃ¼n"},{t:"missed",c:2,tm:"DÃ¼n"}];
            calls.forEach(c=>{p.innerHTML+=`<div class="call-item" onclick="startFakeCall()"><div style="display:flex;align-items:center;gap:10px;"><span style="font-size:18px;">ğŸ“</span><div><b style="color:${c.t==='missed'?'#FF3B30':'#000'}">Kocan â¤ï¸</b><br><small style="color:#888">Mobil â€¢ ${c.t==='missed'?'CevapsÄ±z ('+c.c+')':(c.t==='in'?'Gelen':'Giden')}</small></div></div><small style="color:#888">${c.tm}</small></div>`;});}

        // AÅK DURUMU MANTIÄI
        const sunIcon = document.getElementById('sun-icon');
        const loveExplosion = document.getElementById('love-explosion-overlay');
        let sunTimer;

        // TÄ±klama (BasÄ±lÄ± tutma) olaylarÄ±
        sunIcon.addEventListener('mousedown', startSunPress);
        sunIcon.addEventListener('touchstart', startSunPress);
        sunIcon.addEventListener('mouseup', endSunPress);
        sunIcon.addEventListener('touchend', endSunPress);
        sunIcon.addEventListener('mouseleave', endSunPress);

        function startSunPress(e) {
            e.preventDefault();
            sunIcon.classList.add('growing'); // BÃ¼yÃ¼me animasyonu
            
            // 2 saniye sonra patlama
            sunTimer = setTimeout(() => {
                loveExplosion.classList.add('visible');
                sunIcon.classList.remove('growing');
                // 3 saniye sonra ekranÄ± temizle
                setTimeout(() => {
                    loveExplosion.classList.remove('visible');
                }, 3000);
            }, 2000);
        }

        function endSunPress() {
            clearTimeout(sunTimer); // SÃ¼re dolmadan bÄ±rakÄ±rsa iptal
            sunIcon.classList.remove('growing');
        }

        // AÅK Ã‡ARKI MANTIÄI
        const wheel = document.getElementById('wheel');
        const resOverlay = document.getElementById('wheel-result-overlay');
        const resIcon = document.getElementById('res-icon');
        const resText = document.getElementById('res-text');
        const spinBtn = document.getElementById('spin-btn');
        const resBtn = document.getElementById('res-btn');
        const wheelModal = document.getElementById('app-wheel');
        let currentDeg = 0;
        let isSpinning = false;

        function spinWheel() {
            if(isSpinning) return; spinBtn.disabled = true; isSpinning = true;
            const randomSpins = 5; 
            const randomDegree = Math.floor(Math.random() * 360);
            const totalDegree = (randomSpins * 360) + randomDegree;
            currentDeg += totalDegree; wheel.style.transform = `rotate(${currentDeg}deg)`;

            setTimeout(() => {
                const actualDeg = currentDeg % 360;
                // Pointer'Ä±n altÄ±ndaki aÃ§Ä±yÄ± bul (0-359 arasÄ±)
                const angleUnderPointer = (360 - actualDeg) % 360;
                // 36 derecelik dilimlere bÃ¶l
                const finalSegment = Math.floor(angleUnderPointer / 36);

                const options = [
                    {i:"ğŸ’†â€â™‚ï¸", t:"Masaj Yap"}, {i:"ğŸ“œ", t:"Bana Åiir Oku"}, {i:"ğŸ¬", t:"Film SeÃ§"}, 
                    {i:"ğŸ§¼", t:"BulaÅŸÄ±klar Sende!"}, {i:"â˜•", t:"Kahve Ismarla"}, {i:"ğŸ’‹", t:"Kocaman Ã–p"},
                    {i:"ğŸ", t:"Romantik Yemek"}, {i:"ğŸ«‚", t:"SÄ±msÄ±kÄ± SarÄ±l"}, 
                    {i:"ğŸ¦¶", t:"10 Dk Ayak MasajÄ±"}, {i:"â¤ï¸", t:"Seni Seviyorum De"}
                ];
                resIcon.innerText = options[finalSegment].i; resText.innerText = options[finalSegment].t;
                
                // --- RASTGELE CEVAPLAR ---
                const buttonTexts = [
                    "Tamam AÅŸko ğŸ’–", "Hemen YapÄ±yorum! ğŸƒâ€â™‚ï¸", "Emrin Olur Prenses ğŸ‘‘", 
                    "AnlaÅŸtÄ±k! ğŸ¤", "Zevkle! ğŸ˜", "ÅansÄ±ma KÃ¼s! ğŸ˜‚", "Hadi BakalÄ±m! ğŸ”¥",
                    "Sen Ä°ste Yeter ğŸ’˜", "Mesaj AlÄ±ndÄ± ğŸ’Œ", "Uuu Beybi! ğŸ˜"
                ];
                resBtn.innerText = buttonTexts[Math.floor(Math.random() * buttonTexts.length)];

                resOverlay.classList.add('visible');

                for(let i=0; i<100; i++) { 
                    const c = document.createElement('div'); c.classList.add('confetti'); 
                    c.innerText = ['â¤ï¸', 'âœ¨', 'ğŸ‰'][Math.floor(Math.random() * 3)]; 
                    c.style.left = '50%'; c.style.top = '50%';
                    c.style.fontSize = (Math.random() * 20 + 10) + 'px'; 
                    c.style.setProperty('--x', (Math.random() - 0.5) * 500 + 'px'); 
                    c.style.setProperty('--y', (Math.random() - 0.5) * 500 + 'px'); 
                    c.style.setProperty('--r', (Math.random() * 360) + 'deg'); 
                    wheelModal.appendChild(c); setTimeout(() => c.remove(), 2000); 
                }
            }, 4000);
        }
        function closeResultPopup() { resOverlay.classList.remove('visible'); spinBtn.disabled = false; isSpinning = false; }

        // AYARLAR ETKÄ°LEÅÄ°MÄ° (DÃœZELTÄ°LDÄ°: UÃ‡AK MODU AÃ‡ KAPA)
        function toggleAirplaneMode() {
            const sw = document.getElementById('airplane-switch');
            sw.checked = !sw.checked; // Checkbox durumunu deÄŸiÅŸtir
            
            if(sw.checked) {
                alert("âœˆï¸ UÃ§uÅŸa geÃ§ildi! Åu an yerle irtibat kesildi, sadece seninle havadayÄ±z aÅŸkÄ±m.");
            } else {
                alert("ğŸŒ Yere iniÅŸ yapÄ±ldÄ± ama aklÄ±m hala bulutlarÄ±n Ã¼zerinde...");
            }
        }

        // CÃœZDAN KUPON MANTIÄI
        const coupons = [
            {t:"Masaj Keyfi", d:"Bu kupon 30 dakika kesintisiz, rahatlatÄ±cÄ± bir masaj hakkÄ± verir. YaÄŸlar Kocandan!", c:"linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%)", i:"ğŸ’†â€â™€ï¸"},
            {t:"HaklÄ±sÄ±n KartÄ±", d:"Herhangi bir tartÄ±ÅŸmada anÄ±nda haklÄ± Ã§Ä±kma garantisi. Sorgusuz sualsiz geÃ§erlidir.", c:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)", i:"âœ…"},
            {t:"Yemek Ismarla", d:"BugÃ¼n mutfak kapalÄ±! Ä°stediÄŸin restoranda, istediÄŸin yemeÄŸi Ä±smarlÄ±yorum.", c:"linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%)", i:"ğŸ½ï¸"},
            {t:"SÄ±nÄ±rsÄ±z Ã–pÃ¼cÃ¼k", d:"Bu kuponun limiti yoktur. Ä°stenildiÄŸi zaman, istenildiÄŸi kadar kullanÄ±labilir.", c:"linear-gradient(135deg, #fccb90 0%, #d57eeb 100%)", i:"ğŸ’‹"},
            {t:"Yatakta KahvaltÄ±", d:"Pazar sabahÄ± uyanmak yok! Kocan kahvaltÄ±yÄ± yataÄŸÄ±na getirecek.", c:"linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%)", i:"ğŸ¥"},
            {t:"Sinema Gecesi", d:"Film seÃ§imi, mÄ±sÄ±r patlatma ve iÃ§ecek servisi tamamen bana ait.", c:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)", i:"ğŸ¿"},
            {t:"Teknoloji Diyeti", d:"TelefonlarÄ± kapatÄ±yoruz. 1 saat boyunca sadece birbirimize odaklanÄ±yoruz.", c:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)", i:"ğŸ“µ"},
            {t:"SÃ¼rpriz Randevu", d:"Nereye gideceÄŸimizi sorma. HazÄ±rlan ve bana gÃ¼ven.", c:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)", i:"ğŸ¥‚"},
            {t:"AlÄ±ÅŸveriÅŸ GÃ¼nÃ¼", d:"BugÃ¼n limit yok (ÅŸaka ÅŸaka var ama sana feda olsun). KartÄ±m emrine amade!", c:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)", i:"ğŸ›ï¸"},
            {t:"Sessizlik HakkÄ±", d:"Bazen sadece susup sarÄ±lmak istersin. Bu kupon o anlar iÃ§in.", c:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)", i:"ğŸ¤«"},
            {t:"Oyun Gecesi", d:"Ä°stediÄŸin oyunu oynuyoruz! Kazanmana izin verebilirim... belki.", c:"linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%)", i:"ğŸ®"},
            {t:"Ã–zel ÅofÃ¶rlÃ¼k", d:"Araba bende. Nereye gitmek istersen ÅŸofÃ¶rÃ¼n hazÄ±r!", c:"linear-gradient(135deg, #fccb90 0%, #d57eeb 100%)", i:"ğŸš—"}
        ];

        let currentCouponIndex = -1;
        function openCoupon(index) {
            currentCouponIndex = index;
            const c = coupons[index];
            document.getElementById('detail-title').innerText = c.t;
            document.getElementById('detail-desc').innerText = c.d;
            document.getElementById('detail-bg').innerText = c.i;
            document.querySelector('.coupon-detail-card .detail-header').style.background = c.c;
            document.getElementById('coupon-detail-overlay').classList.add('visible');
        }

        function closeCoupon() {
            document.getElementById('coupon-detail-overlay').classList.remove('visible');
        }

        function useCoupon() {
            if(currentCouponIndex === -1) return;
            const c = coupons[currentCouponIndex];
            const message = `AÅŸkÄ±m! â¤ï¸ Åu kuponumu kullanmak istiyorum: \n\nğŸ« *${c.t}*\nğŸ“ ${c.d}`;
            
            alert(`ğŸ‰ Harika seÃ§im aÅŸkÄ±m! "${c.t}" kuponu iÅŸleme alÄ±ndÄ±.\n\nKocan hazÄ±rlanmaya baÅŸlasÄ±n... ğŸ˜‰`);
            window.location.href = `https://api.whatsapp.com/send?phone=905315581447&text=${encodeURIComponent(message)}`;
            
            closeCoupon();
        }

        // --- AÅK MUTFAÄI MANTIÄI ---
        const foodMenu = {
            1: {n: "Kocan Burger", p: "1 Ã–pÃ¼cÃ¼k"},
            2: {n: "Romantik Makarna", p: "SÄ±msÄ±kÄ± SarÄ±lma"},
            3: {n: "AÅŸk Krebi", p: "GÃ¼lÃ¼mseme"},
            4: {n: "Kocan Kahvesi", p: "5 Dk Masaj"},
            6: {n: "Ã‡ikolata Krizi", p: "1 Ã–pÃ¼cÃ¼k"},
            7: {n: "Ã‡iÄŸkÃ¶fte DÃ¼rÃ¼m", p: "Ayran Senden"},
            8: {n: "Hatay DÃ¶ner", p: "Bir IsÄ±rÄ±k"},
            9: {n: "Ã‡Ä±tÄ±r Lahmacun", p: "Salata Benden"},
            10: {n: "SÄ±cak Sufle", p: "Kahve YanÄ±na"}
        };
        const foodCart = {}; // Sepet verisi

        function updateFood(id, change) {
            if (!foodCart[id]) foodCart[id] = 0;
            foodCart[id] += change;
            if (foodCart[id] < 0) foodCart[id] = 0;

            // UI GÃ¼ncelleme (SayÄ± ve Buton GÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼)
            const qtySpan = document.getElementById('qty-' + id);
            const itemDiv = document.getElementById('item-' + id);
            
            qtySpan.innerText = foodCart[id];

            if (foodCart[id] > 0) {
                itemDiv.classList.add('has-item'); // Eksi butonu ve sayÄ±yÄ± gÃ¶ster
            } else {
                itemDiv.classList.remove('has-item'); // Eksi butonu ve sayÄ±yÄ± gizle
            }

            checkCartBar();
        }

        function checkCartBar() {
            const bar = document.getElementById('cart-bar');
            let totalItems = 0;

            for (const value of Object.values(foodCart)) {
                totalItems += value;
            }

            if (totalItems > 0) {
                bar.classList.add('active');
                document.getElementById('cart-total-txt').innerText = "Bolca AÅŸk & Lezzet";
            } else {
                bar.classList.remove('active');
            }
        }

        function sendFoodOrder() {
            let message = "AÅŸkÄ±m acÄ±ktÄ±m! ğŸ˜‹\nÄ°ÅŸte sipariÅŸlerim:\n\n";
            let hasItem = false;

            for (const [key, value] of Object.entries(foodCart)) {
                if (value > 0) {
                    message += `â–ªï¸ ${value}x ${foodMenu[key].n}\n`;
                    hasItem = true;
                }
            }
            message += "\nÃ–deme YÃ¶ntemi: KapÄ±da Ã–pÃ¼cÃ¼k ğŸ’‹\nHemen Bekliyorum!";

            if(hasItem) {
                alert("SipariÅŸin AlÄ±ndÄ± Prenses! ğŸš€\n\nKocan hemen hazÄ±rlÄ±klara baÅŸlÄ±yor... Whatsapp'a yÃ¶nlendiriliyorsun.");
                // WhatsApp'a GÃ¶nder
                window.location.href = `https://api.whatsapp.com/send?phone=905315581447&text=${encodeURIComponent(message)}`;
            }
        }

    </script>
</body>
</html>